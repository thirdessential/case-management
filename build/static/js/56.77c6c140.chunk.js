(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[56],{602:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(221),l=a(0),r=a.n(l),o=a(8),u=a(999),m=a(728),s=a(482),i=a(110),d=a(1001),b=a(5),p=a(3);const E=RegExp(/^[ ',-\.A-Za-z\xC0-\xCF\xD1-\xD6\xD8-\xDD\xDF-\xE5\xE7-\xF6\xF8-\xFD\xFF\u0104-\u0107\u010C\u010D\u0116-\u0119\u012E\u012F\u0141-\u0144\u0152\u0160\u0161\u016A\u016B\u0172\u0173\u0178-\u017E\u2202]+$/);t.default=e=>{const t=Object(b.g)(),a=Object(o.d)(e=>e.user.token.user._id),h=Object(l.useState)(!1),g=Object(n.a)(h,2),N=(g[0],g[1]),f=Object(l.useState)({userId:a,type:"",accountName:"",accountHolder:"",accountNumber:"",institution:"",domicileBranch:"",swiftCode:"",transitNumber:"",currency:"",openingBalance:""}),C=Object(n.a)(f,2),A=C[0],y=C[1],x=Object(l.useState)({}),k=Object(n.a)(x,2),O=k[0],v=k[1],B=Object(l.useState)(!1),j=Object(n.a)(B,2),w=j[0],I=j[1],D=Object(l.useState)(!1),S=Object(n.a)(D,2),F=S[0],G=S[1];Object(l.useEffect)(()=>{p.b.get("/account/view/"+e.location.state).then(e=>{let t=A;t.defaultAccount=e.data.data.defaultAccount,t.defaultAccount&&N(!0),y(t),y(Object(c.a)(Object(c.a)({},A),e.data.data)),console.log(A)}).catch(e=>{console.log(e)})},[]);const H=e=>{e.persist(),I(!1);const t=e.target,a=t.name,n=t.value;if(console.log("chnage"),"defaultAccount"===a){let e=A;e.defaultAccount=!e.defaultAccount,y(e)}else{let e=O;switch(a){case"type":e.type="default"===n?"Account Type is required!":"";break;case"accountName":e.accountName=0==n.length?"Account Name is required!":E.test(n)?"":"Account Name must be in characters!";break;case"accountHolder":e.accountHolder=0==n.length?"Account Holder is required!":E.test(n)?"":"Account Holder must be in characters!";break;case"accountNumber":e.accountNumber=0==n.length?"Account Number is required!":"";break;case"institution":e.institution=0==n.length?"Institution is required!":E.test(n)?"":"Institution must be in characters!";break;case"domicileBranch":e.DomicileBranch=0==n.length?"Domicile Branch is required!":"";break;case"swiftCode":e.swiftCode=0==n.length?"Swift Code is required!":"";break;case"transitNumber":e.transitNumber=0==n.length?"Transit Number is required!":"";break;case"currency":e.currency="default"===n?"Currency is required!":"";break;case"openingBalance":e.openingBalance=0==n.length?"Opening Balance is required!":n>0?"":"Opening Balance Greater than 0"}v(t=>Object(c.a)(Object(c.a)({},t),e)),y(e=>Object(c.a)(Object(c.a)({},e),{},{[a]:n}))}console.log(A.defaultAccount)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-width"},r.a.createElement("div",{className:"form-header-container mb-4"},r.a.createElement("h3",{className:"form-header-text"},"Edit Account")),r.a.createElement(d.a,{className:"mb-4"},r.a.createElement(u.a,{className:"form-details"},r.a.createElement(u.a.Group,{controlId:"type"},r.a.createElement(u.a.Label,null,"Account Type"),r.a.createElement(u.a.Control,{as:"select",name:"type",onChange:H,value:A.type},r.a.createElement("option",{value:"default"},"Select Account Type"),r.a.createElement("option",{value:"Operating Account"},"Operating Account"),r.a.createElement("option",{value:"Trust Account"},"Trust Account")),r.a.createElement("p",{className:"help-block text-danger"},O.type)),r.a.createElement(u.a.Group,{controlId:"accountName"},r.a.createElement(u.a.Label,null,"Account Name"),r.a.createElement(u.a.Control,{type:"text",name:"accountName",placeholder:"Account name",value:A.accountName,onChange:H}),r.a.createElement("p",{className:"help-block text-danger"},O.accountName)),r.a.createElement(u.a.Group,{controlId:"accountHolder"},r.a.createElement(u.a.Label,null,"Account Holder"),r.a.createElement(u.a.Control,{type:"text",name:"accountHolder",placeholder:"Account Holder",value:A.accountHolder,onChange:H}),r.a.createElement("p",{className:"help-block text-danger"},O.accountHolder)),r.a.createElement(u.a.Group,{controlId:"accountNumber"},r.a.createElement(u.a.Label,null,"Account Number"),r.a.createElement(u.a.Control,{type:"number",name:"accountNumber",placeholder:"Account Number",value:A.accountNumber,onChange:H}),r.a.createElement("p",{className:"help-block text-danger"},O.accountNumber)),r.a.createElement(u.a.Group,{controlId:"institution"},r.a.createElement(u.a.Label,null,"Institution"),r.a.createElement(u.a.Control,{type:"text",name:"institution",placeholder:"Institution",value:A.institution,onChange:H}),r.a.createElement("p",{className:"help-block text-danger"},O.institution)),r.a.createElement(u.a.Group,{controlId:"domicileBranch"},r.a.createElement(u.a.Label,null,"Domicile Branch"),r.a.createElement(u.a.Control,{type:"text",name:"domicileBranch",placeholder:"Domicile Branch",value:A.domicileBranch,onChange:H}),r.a.createElement("p",{className:"help-block text-danger"},O.domicileBranch)),r.a.createElement(u.a.Group,{controlId:"swiftCode"},r.a.createElement(u.a.Label,null,"Swift Code"),r.a.createElement(u.a.Control,{type:"text",name:"swiftCode",placeholder:"Swift Code",value:A.swiftCode,onChange:H}),r.a.createElement("p",{className:"help-block text-danger"},O.swiftCode)),r.a.createElement(u.a.Row,null,r.a.createElement(m.a,{sm:!0},r.a.createElement(u.a.Group,{controlId:"transitNumber"},r.a.createElement(u.a.Label,null,"Transit Number"),r.a.createElement(u.a.Control,{type:"text",name:"transitNumber",placeholder:"Transit Number",value:A.transitNumber,onChange:H}),r.a.createElement("p",{className:"help-block text-danger"},O.transitNumber))),r.a.createElement(m.a,{sm:!0},r.a.createElement(u.a.Group,{controlId:"currency"},r.a.createElement(u.a.Label,null,"Currency"),r.a.createElement(u.a.Control,{as:"select",name:"currency",onChange:H,value:A.currency},r.a.createElement("option",{value:"default"},"Select Currency"),r.a.createElement("option",{value:"USD $"},"USD $"),r.a.createElement("option",{value:"EUR \u20ac"},"EUR \u20ac")),r.a.createElement("p",{className:"help-block text-danger"},O.currency)))),r.a.createElement(u.a.Group,{controlId:"openingBalance"},r.a.createElement(u.a.Label,null,"Opening Balance"),r.a.createElement(u.a.Control,{type:"number",name:"openingBalance",placeholder:"Opening Balance",value:A.openingBalance,onChange:H}),r.a.createElement("p",{className:"help-block text-danger"},O.openingBalance)),r.a.createElement(u.a.Group,{controlId:"defaultAccount"},r.a.createElement(u.a.Check,{defaultChecked:A.defaultAccount,type:"checkbox",name:"defaultAccount",label:"Set the account as default account",onChange:H})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(s.a,{disabled:F,onClick:a=>{if(a.preventDefault(),i.a.destroy(),!w){if(!(e=>{let t=!0;return Object.values(e).forEach(e=>e.length>0&&(t=!1)),t})(O))return I(!0),i.a.warning({message:"Failed to Add New Account"});!function(){if(!Object.keys(A).every(e=>""!==A[e]))return I(!0),i.a.warning({message:"Fields Should Not Be Empty"});G(!0),p.b.post("/account/edit/"+e.location.state,A).then(e=>{console.log(e),G(!1),i.a.success({message:"Account Edited."}),t.goBack()}).catch(e=>{console.log(e),G(!1),i.a.error({message:"Failed to edit account."})})}()}}},"Edit Bank Account")))))}}}]);
//# sourceMappingURL=56.77c6c140.chunk.js.map