(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[41],{462:function(e,t,a){"use strict";var l=a(0),n=a.n(l),r=a(8),s=a(999),o=a(973),i=a(728),c=a(3);let m=null;class d extends n.a.Component{constructor(e){super(e),this.state={matter:""}}componentDidMount(){c.b.get("/matter/viewforuser/"+this.props.userId).then(e=>{m=e.data.data.map((e,t)=>n.a.createElement("option",null,e.matterDescription))}).then(()=>{console.log(m),this.setState({option:m})}),this.props.editmode&&c.b.get("/matter/view/"+this.props.record.matter._id).then(e=>{console.log(e),this.setState({matter:e.data.data.matterDescription}),console.log(this.state.matter)})}render(){return n.a.createElement(s.a,null,n.a.createElement(o.a,null,n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"quantity"},n.a.createElement(s.a.Label,null,"Quantity"),n.a.createElement(s.a.Control,{type:"text",name:"qty",placeholder:"1.0",onChange:this.props.handleChange}))),n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"matter"},n.a.createElement(s.a.Label,null,"Matter"),n.a.createElement(s.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:this.props.handleChange},n.a.createElement("option",null,"Select a matter"),this.state.option)))),n.a.createElement(o.a,null,n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"Description"},n.a.createElement(s.a.Label,null,"Description"),n.a.createElement(s.a.Control,{name:"description",as:"textarea",rows:"3",placeholder:"Description",onChange:this.props.handleChange})))),n.a.createElement(o.a,null,n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"rate"},n.a.createElement(s.a.Label,null,"Rate"),n.a.createElement(s.a.Control,{required:!0,type:"text",name:"rate",placeholder:"0.0 /h",onChange:this.props.handleChange}))),n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"date"},n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(s.a.Control,{required:!0,type:"date",name:"date",placeholder:"Date",onChange:this.props.handleChange})))),n.a.createElement(s.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",onChange:this.props.handleChange}),n.a.createElement("br",null))}}Object(r.b)(e=>({userId:e.user.token.user._id}))(d)},463:function(e,t,a){"use strict";var l=a(0),n=a.n(l),r=a(8),s=a(999),o=a(973),i=a(728),c=a(3),m=a(259);let d=null;class h extends n.a.Component{constructor(e){super(e),this.setTimer=()=>{const e=window.localStorage.getItem("timer");let t=Math.floor(e/3600),a=Math.floor(e/60),l=e%60;a>=59&&(a%=60),l<10&&(l="0"+l),console.log("Secounds  "+l);const n=this.state.data;n.time=t+":"+a+":"+l,this.setState({data:n}),console.log(this.state.data)},this.state={data:{time:""}}}componentDidMount(){c.b.get("/matter/viewforuser/"+this.props.userId).then(e=>{d=e.data.data.map((e,t)=>n.a.createElement("option",null,e.matterDescription))}).then(()=>{console.log(d),this.setState({option:d})}),this.setTimer()}render(){return n.a.createElement(s.a,{id:"myForm",className:"form",ref:e=>this.props.handleReset(e)},n.a.createElement(o.a,null,n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"duration"},n.a.createElement(s.a.Label,null,"Duration"),n.a.createElement(s.a.Control,{type:"text",name:"time",placeholder:"hh:mm:ss",defaultValue:this.state.data.time,onChange:this.props.handleChange}))),n.a.createElement(i.a,null,n.a.createElement(m.a,{setTimer:this.setTimer}))),n.a.createElement(o.a,null,n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"matter"},n.a.createElement(s.a.Label,null,"Matter"),n.a.createElement(s.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:this.props.handleChange},n.a.createElement("option",null,"Select a matter"),this.state.option))),n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"rate"},n.a.createElement(s.a.Label,null,"Rate"),n.a.createElement(s.a.Control,{required:!0,type:"text",name:"rate",placeholder:"0.0 /h",onChange:this.props.handleChange})))),n.a.createElement(o.a,null,n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"Description"},n.a.createElement(s.a.Label,null,"Description"),n.a.createElement(s.a.Control,{name:"description",as:"textarea",rows:"3",placeholder:"Description",onChange:this.props.handleChange})))),n.a.createElement(o.a,null,n.a.createElement(i.a,null,n.a.createElement(s.a.Group,{controlId:"date"},n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(s.a.Control,{required:!0,type:"date",name:"date",placeholder:"Date",onChange:this.props.handleChange})))),n.a.createElement(o.a,null,n.a.createElement(i.a,null,n.a.createElement(s.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",onChange:this.props.handleChange}),n.a.createElement("br",null))))}}Object(r.b)(e=>({userId:e.user.token.user._id}))(h)},618:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(110),s=a(268),o=a(1004),i=a(153),c=a(1001),m=a(989),d=a(996),h=a(8),p=a(242),u=a.n(p);class E extends l.Component{constructor(e){super(e),console.log("data in excel",e.dataSource)}render(){return console.log(this.props),n.a.createElement("div",null,n.a.createElement("table",{id:"matter",className:"d-none"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"S.No"),n.a.createElement("th",null,"Qty"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Billable"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Invoice Status"))),n.a.createElement("tbody",null,this.props.dataSource.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,t+1),n.a.createElement("td",null,e.qty),n.a.createElement("td",null,e.description),n.a.createElement("th",null,e.billable),n.a.createElement("th",null,e.rate),n.a.createElement("th",null,e.date),n.a.createElement("th",null,e.invoiceStatus))))),n.a.createElement(u.a,{className:"btn btn-outline-primary btn-sm excel-button",table:"matter",filename:"Acitivity",sheet:"Sheet",buttonText:"Export to Excel"}))}}var b=E,g=(a(462),a(999)),C=a(973),y=a(728),x=a(3),D=a(974);let f=null;class I extends n.a.Component{constructor(e){super(e),this.state={matter:"",record:{},loading:!0}}componentWillReceiveProps(e){e!==this.props&&(console.log("not equal"),console.log(this.props),console.log(e),this.setState({record:e.record}))}componentDidMount(){this.setState({record:this.props.record}),x.b.get("/matter/viewforuser/"+this.props.userId).then(e=>{f=e.data.data.map((e,t)=>n.a.createElement("option",null,e.matterDescription))}).then(()=>{console.log(f),this.setState({option:f}),x.b.get("/matter/view/"+this.props.record.matter).then(e=>{console.log(e);const t=n.a.createElement(g.a.Group,{controlId:"matter"},n.a.createElement(g.a.Label,null,"Matter"),n.a.createElement(g.a.Control,{as:"select",name:"matter",defaultValue:e.data.data.matterDescription,onChange:this.props.handleChange},n.a.createElement("option",null,"Select a matter"),this.state.option));this.setState({matter:t,loading:!1}),console.log(this.state.matter)})})}render(){let e="";return this.props.editmode&&(e=this.props.record.date.substring(0,10),console.log(e)),console.log(this.props.record.billable),n.a.createElement(D.a,{size:"middle"},n.a.createElement(i.a,{spinning:this.state.loading,size:"large"},n.a.createElement(g.a,null,n.a.createElement(C.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"quantity"},n.a.createElement(g.a.Label,null,"Quantity"),n.a.createElement(g.a.Control,{type:"number",name:"qty",defaultValue:this.state.record.qty,onChange:this.props.handleChange}))),n.a.createElement(y.a,null,console.log(this.state.matter),this.state.matter)),n.a.createElement(C.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"Description"},n.a.createElement(g.a.Label,null,"Description"),n.a.createElement(g.a.Control,{name:"description",as:"textarea",rows:"3",defaultValue:this.state.record.description,onChange:this.props.handleChange})))),n.a.createElement(C.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"date"},n.a.createElement(g.a.Label,null,"Date"),n.a.createElement(g.a.Control,{required:!0,type:"date",name:"date",defaultValue:e,onChange:this.props.handleChange}))),n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"rate"},n.a.createElement(g.a.Label,null,"Rate"),n.a.createElement(g.a.Control,{required:!0,type:"text",name:"rate",defaultValue:this.state.record.rate,onChange:this.props.handleChange})))),n.a.createElement(g.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",defaultChecked:"Yes"===this.state.record.billable,onChange:this.props.handleChange}),n.a.createElement("br",null))))}}Object(h.b)(e=>({userId:e.user.token.user._id}))(I);var S=a(259);let v=null;class k extends n.a.Component{constructor(e){super(e),this.setTimer=()=>{const e=window.localStorage.getItem("timer");let t=Math.floor(e/3600),a=Math.floor(e/60),l=e%60;a>=59&&(a%=60),l<10&&(l="0"+l),console.log("Secounds  "+l);const n=this.state.data;n.time=t+":"+a+":"+l,this.setState({data:n}),console.log(this.state.data)},this.state={data:{},record:{},loading:!0}}componentWillReceiveProps(e){e!==this.props&&(console.log("not equal"),console.log(this.props),console.log(e),this.setState({record:e.record}))}componentDidMount(){this.setState({record:this.props.record}),x.b.get("/matter/viewforuser/"+this.props.userId).then(e=>{v=e.data.data.map((e,t)=>n.a.createElement("option",null,e.matterDescription))}).then(()=>{console.log(v),this.setState({option:v}),x.b.get("/matter/view/"+this.props.record.matter._id).then(e=>{console.log(e);const t=n.a.createElement(g.a.Group,{controlId:"matter"},n.a.createElement(g.a.Label,null,"Matter"),n.a.createElement(g.a.Control,{as:"select",name:"matter",defaultValue:e.data.data.matterDescription,onChange:this.props.handleChange},n.a.createElement("option",null,"Select a matter"),this.state.option));this.setState({matter:t,loading:!1}),console.log(this.state.matter)})});const e=this.state.data;e.time=this.props.time,this.setState({data:e}),console.log(this.state.data)}render(){console.log(this.props.record.billable);let e="";return this.props.editmode&&(e=this.props.record.date.substring(0,10),console.log(e)),n.a.createElement(i.a,{spinning:this.state.loading,size:"large"},n.a.createElement(g.a,null,n.a.createElement(C.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"duration"},n.a.createElement(g.a.Label,null,"Duration"),n.a.createElement(g.a.Control,{type:"text",name:"time",defaultValue:this.state.data.time,onChange:this.props.handleChange}))),n.a.createElement(y.a,null,n.a.createElement(S.a,{setTimer:this.setTimer}))),n.a.createElement(C.a,null,n.a.createElement(y.a,null,this.state.matter),n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"rate"},n.a.createElement(g.a.Label,null,"Rate"),n.a.createElement(g.a.Control,{required:!0,type:"text",name:"rate",defaultValue:this.state.record.rate,onChange:this.props.handleChange})))),n.a.createElement(C.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"Description"},n.a.createElement(g.a.Label,null,"Description"),n.a.createElement(g.a.Control,{name:"description",as:"textarea",rows:"3",defaultValue:this.state.record.description,onChange:this.props.handleChange})))),n.a.createElement(C.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"rate"},n.a.createElement(g.a.Label,null,"Rate"),n.a.createElement(g.a.Control,{required:!0,type:"text",name:"rate",defaultValue:this.state.record.rate,onChange:this.props.handleChange}))),n.a.createElement(y.a,null,n.a.createElement(g.a.Group,{controlId:"date"},n.a.createElement(g.a.Label,null,"Date"),n.a.createElement(g.a.Control,{required:!0,type:"date",name:"date",defaultValue:e,onChange:this.props.handleChange})))),n.a.createElement(C.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",defaultChecked:"Yes"===this.state.record.billable,onChange:this.props.handleChange}),n.a.createElement("br",null)))))}}Object(h.b)(e=>({userId:e.user.token.user._id}))(k),a(463);var M=a(230),T=a.n(M),q=(a(231),a(13)),w=a.n(q);let G={},L={},N="",F=null;class O extends n.a.Component{constructor(e){super(e),this.convertTime=e=>{var t=new Date(e).toUTCString();return new Date(t+" UTC")},this.setTimer=()=>{const e=window.localStorage.getItem("timer");let t=Math.floor(e/3600),a=Math.floor(e/60),l=e%60;a>=59&&(a%=60),l<10&&(l="0"+l);const n=this.state.data;n.time=t+":"+a+":"+l,this.setState({data:n})},this.showModal=e=>{"time"===e?this.setState({timeModal:!0}):"expense"===e&&this.setState({expenseModal:!0})},this.handleOk=e=>{if(r.a.destroy(),""!==N)r.a.error({message:"Invalid time, Please enter time in the format : HH:MM:SS"});else if(""===this.state.data.date)r.a.error({message:"Please select a Date"});else if(""===this.state.data.rate)r.a.error({message:"Please provide rate"});else if(this.setState({disableExpense:!0,disabletime:!0}),this.state.editTime||this.state.EditExpense){if("time"===e){let e=this.state.data;e.type="time",e.userId=this.props.userId,x.b.post("/activity/edit/"+this.state.data.id,e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1,editTime:!1,EditExpense:!1}),r.a.success({message:"Time entry Edited !"})}).catch(e=>{r.a.error({message:"Failed"})}).then(()=>{w.a.findDOMNode(this.messageForm).reset(),this.setState({timeModal:!1,editmode:!1,data:{billable:!1,nonBillable:!1,date:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),console.log(this.state.data),setTimeout(()=>{},1500)})}else if("expense"===e){let e=this.state.data;e.type="expense",e.userId=this.props.userId,x.b.post("/activity/edit/"+this.state.data.id,e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1}),r.a.success({message:"Expense Edited!"})}).catch(e=>{r.a.error({message:"Failed"})}).then(()=>{w.a.findDOMNode(this.messageForm).reset(),this.setState({expenseModal:!1,EditExpense:!1,editmode:!1,data:{billable:!1,nonBillable:!1,matter:"",date:"",rate:"",qty:"1.0",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})}}else if("time"===e){let e=this.state.data;e.type="time",e.userId=this.props.userId,x.b.post("/activity/create",e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1}),r.a.success({message:"Time entry Added !"})}).catch(e=>{r.a.error({message:"Failed"})}).then(()=>{w.a.findDOMNode(this.messageForm).reset(),this.setState({timeModal:!1,editmode:!1,data:{billable:!1,nonBillable:!1,matter:"",date:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})}else if("expense"===e){let e=this.state.data;e.type="expense",e.userId=this.props.userId,x.b.post("/activity/create",e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1}),r.a.success({message:"Expense Added !"})}).catch(e=>{r.a.error({message:"Failed"})}).then(()=>{w.a.findDOMNode(this.messageForm).reset(),this.setState({expenseModal:!1,editmode:!1,data:{billable:!1,nonBillable:!1,date:"",matter:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})}},this.handleCancel=e=>{w.a.findDOMNode(this.messageForm).reset(),console.log("Handle Cancel");let t=this.state;t.data={billable:!1,nonBillable:!1,matter:{},date:"",qty:"1.0",rate:"",invoice:"Unbilled"},this.setState(t),"time"===e?this.setState({timeModal:!1,editTime:!1}):"expense"===e&&this.setState({expenseModal:!1,EditExpense:!1}),console.log(this.state.data),this.setTimer()},this.state={expenseModal:!1,timeModal:!1,data:{billable:!1,qty:"1.0",date:"",rate:"",invoice:"Unbilled",time:"",matter:"",billed:!1},loading:!0,timeData:[],expenseData:[],completeData:[],tableData:[],editTime:!1,EditExpense:!1,record:"",touched:!0,disabletime:!1,disableExpense:!1,today:[]}}componentDidMount(){"time"===this.props.location.state?this.setState({timeModal:!0}):this.setState({timeModal:!1}),"expense"===this.props.location.state?this.setState({expenseModal:!0}):this.setState({expenseModal:!1}),x.b.get("/matter/viewforuser/"+this.props.userId).then(e=>{G=e,F=e.data.data.map((e,t)=>n.a.createElement("option",{key:t,value:e.matterDescription},e.matterDescription))}).then(()=>{this.setState({option:F})}),x.b.get("/activity/viewforuser/"+this.props.userId).then(e=>{console.log(e),L=e.data.data;var t=new Date,a=new Date(t.getTime()+24*(6-t.getDay())*60*60*1e3);a.setHours(23),a.setMinutes(59),a.setSeconds(59);let l=[],n=[],r=[],s=[],o=[],i=[],c=[];e.data.data.map((e,m)=>{const d=this.convertTime(e.date);let h={key:m,type:e.type,id:e._id,qty:"time"===e.type?e.time:e.qty,time:e.time?e.time:"",matter:e.matter?e.matter:"-",description:e.description?e.description:"-",rate:e.rate,billable:e.billable?"Yes":"No",date:e.date.substring(0,10),invoiceStatus:e.billed?"Billed":"Unbilled"};console.log(t),console.log(d),console.log("sepeaaot"),"time"===e.type&&l.push(h),"expense"===e.type&&n.push(h),d.getDate()==t.getDate()&&d.getMonth()==t.getMonth()&&d.getFullYear()==t.getFullYear()&&s.push(h),d>=t&&d<=a&&o.push(h),d.getFullYear()==t.getFullYear()&&d.getMonth()==t.getMonth()&&i.push(h),d.getFullYear()==t.getFullYear()&&c.push(h),r.push(h)}),console.log(s),this.setState({completeData:r,expenseData:n,timeData:l,tableData:r,thisWeek:o,thisMonth:i,thisYear:c,today:s,loading:!1})}),this.setTimer()}render(){const e=e=>{let t=this.state;t.data=e,this.setState(t),"time"===e.type?this.setState({editTime:!0}):"expense"===e.type&&this.setState({EditExpense:!0}),console.log(this.state.data)},t=e=>{x.b.get("/activity/delete/"+e.id).then(e=>{this.componentDidMount(),r.a.success({message:"Activity Deleted !"}),setTimeout(()=>{},1500)}).catch(e=>{r.a.error({message:"Failed to delete"})})},a=e=>{"time"===e.type?(e.type="time",e.userId=this.props.userId,e.billable="Yes"===e.billable):"expense"===e.type&&(e.type="expense",e.userId=this.props.userId,e.billable="Yes"===e.billable),console.log(e),x.b.post("/activity/create",e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1}),r.a.success({message:"Acitivity duplicated !"})}).catch(e=>{r.a.error({message:"Failed"})}).then(()=>{this.setState({timeModal:!1,editmode:!1,data:{billable:!1,nonBillable:!1,date:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})},l=[{title:"Type",dataIndex:"type",key:"type"},{title:"Qty",dataIndex:"qty",key:"qty",sortDirections:["descend","ascend"],sorter:(e,t)=>e.qty>t.qty},{title:"Description",dataIndex:"description",key:"description"},{title:"Rate",dataIndex:"rate",key:"rate",sortDirections:["descend","ascend"],sorter:(e,t)=>e.rate>t.rate},{title:"Billable",dataIndex:"billable",key:"billable",filters:[{text:"Yes",value:"Yes"},{text:"No",value:"No"}],onFilter:(e,t)=>t.billable.includes(e)},{title:"Date",dataIndex:"date",key:"date",sortDirections:["descend","ascend"],sorter:(e,t)=>e.date>t.date},{title:"Invoice Status",dataIndex:"invoiceStatus",key:"invoiceStatus"},{title:"Edit",dataIndex:"edit",key:"_id",render:(t,a)=>n.a.createElement(s.a,{variant:"danger",onClick:()=>e(a)},"Edit")},{title:"Duplicate",dataIndex:"Dublicate",key:"_id",render:(e,t)=>n.a.createElement(s.a,{onClick:()=>a(t)},"Duplicate")},{title:"Delete",dataIndex:"delete",key:"_id",render:(e,a)=>n.a.createElement(o.a,{title:"Are you sure delete this Activity?",onConfirm:()=>t(a),okText:"Yes",cancelText:"No"},n.a.createElement(s.a,{danger:!0},"Delete"))}],h=e=>{e.persist();const t=e.target,a=t.value,l=t.name;let n=this.state;if(n[l]=a,this.setState(n),void 0!=this.state.From&&void 0!=this.state.To){let e=[];L.map((t,a)=>{const l={type:t.type,id:t._id,qty:t.qty,time:t.time?t.time:"",matter:t.matter?t.matter:"-",description:t.description?t.description:"-",rate:t.rate,billable:t.billable?"Yes":"No",date:t.date.substring(0,10),invoiceStatus:t.invoiceStatus?t.invoiceStatus:"-"};t.date>=this.state.From&&t.date<=this.state.To&&e.push(l)}),this.setState({tableData:e})}},p=e=>{e.persist(),this.setState({touched:!1});const t=e.target,a=t.name,l=(t.id,t.value),n=t.selectedIndex;let r=this.state.data;if("matter"===a)r[a]=n>=1?G.data.data[n-1]:"";else if("time"===a){N="";var s=l;if(""==s||s.indexOf(":")<0)N="Inavlid Time",console.log(N);else{var o=s.split(":")[0],i=s.split(":")[1],c=s.split(":")[2];console.log(c),""==o||isNaN(o)?(N="Inavlid Time",console.log(N)):0==parseInt(o)&&(o="00"),""==i||isNaN(i)||parseInt(i)>59?(N="Inavlid Time",console.log(N)):0==parseInt(i)&&(i="00"),""==c||isNaN(c)?(N="Inavlid Time",console.log(N)):0==parseInt(c)&&(c="00"),s=o+":"+i+":"+c}r[a]=s,this.setState({data:r})}else"nonBillable"===a||"billable"===a?r.billable=!r.billable:(r[a]=l,this.setState({data:r}));console.log(this.state)},u=e=>{"time"===e?this.setState({tableData:this.state.timeData}):"expense"===e?this.setState({tableData:this.state.expenseData}):"all"===e&&this.setState({tableData:this.state.completeData})};return n.a.createElement(i.a,{size:"large",spinning:this.state.loading},n.a.createElement("div",null,n.a.createElement("div",{className:"d-flex mb-2 title-component-header"},n.a.createElement("div",{className:"title-header-name"},n.a.createElement("h5",null,"Activities")),n.a.createElement("div",{className:"d-flex extra-iteam-div"},n.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>{const e=new T.a("portrait","pt","A4");e.setFontSize(15);let t=[];this.state.tableData.map((e,a)=>{const l=[e.type,e.qty,e.description,e.billable,e.rate,e.date,e.invoiceStatus];t.push(l)});let a={startY:50,head:[["type","Qty","Description","Billable","Rate","Date","Invoice Status"]],body:t};e.text("Activity",40,40),e.autoTable(a),e.save("Activity.pdf")}},"Export to Pdf"),n.a.createElement(b,{dataSource:this.state.tableData||[]}),n.a.createElement("button",{className:" btn  btn-outline-primary   btn-sm",onClick:()=>this.showModal("time")},"New Time Entry"),n.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>this.showModal("expense")},"New Expense Entry"))),n.a.createElement(c.a,{bodyStyle:{padding:"14px 10px 0px 10px"}},n.a.createElement("div",{style:{display:"flex","flex-wrap":"wrap","justify-content":"space-between"}},n.a.createElement("div",{className:"mb-2",style:{"margin-top":"1rem"}},n.a.createElement(s.a,{onClick:()=>u("all")},"All"),n.a.createElement(s.a,{onClick:()=>u("time")},"Time"),n.a.createElement(s.a,{onClick:()=>u("expense")},"Expense")),n.a.createElement(g.a,{className:"pt-0"},n.a.createElement(g.a.Row,{className:"ml-1 date-activity-res"},n.a.createElement(g.a.Group,{controlId:"From",className:"mr-2",style:{display:"flex","flex-direction":"column"}},n.a.createElement(g.a.Label,{style:{marginBottom:"0px"}},"From"),n.a.createElement(g.a.Control,{size:"sm",type:"date",name:"From",onChange:h,style:{width:"175px"}})),n.a.createElement(g.a.Group,{controlId:"To",style:{display:"flex","flex-direction":"column"}},n.a.createElement(g.a.Label,{style:{marginBottom:"0px"}},"To"),n.a.createElement(g.a.Control,{size:"sm",type:"date",name:"To",onChange:h,style:{width:"175px"}})),n.a.createElement(g.a.Group,{controlId:"sorting",className:"short-activity-botton"},n.a.createElement(g.a.Control,{size:"sm",as:"select",name:"sorting",onChange:e=>{e.persist();const t=e.target.value;"This Week"===t?this.setState({tableData:this.state.thisWeek}):"Today"===t?this.setState({tableData:this.state.today}):"This month"===t?this.setState({tableData:this.state.thisMonth}):"This year"===t?this.setState({tableData:this.state.thisYear}):"Sort"===t&&this.setState({tableData:this.state.completeData})},style:{height:"fit-content",padding:"4px"}},n.a.createElement("option",null,"Sort"),n.a.createElement("option",null,"Today"),n.a.createElement("option",null,"This Week"),n.a.createElement("option",null,"This month"),n.a.createElement("option",null,"This year"))))))),n.a.createElement(c.a,{bodyStyle:{padding:"0px"},className:"overflow-auto"},n.a.createElement(m.a,{className:"table-responsive",columns:l,dataSource:this.state.tableData})),n.a.createElement(d.a,{title:"New Time Entry",visible:this.state.timeModal,onOk:()=>this.handleOk("time"),onCancel:()=>this.handleCancel("time"),afterClose:()=>this.handleCancel("time"),footer:[n.a.createElement(s.a,{onClick:()=>this.handleCancel("time")},"Cancel"),n.a.createElement(s.a,{type:"primary",disabled:this.state.disabletime,onClick:()=>this.handleOk("time")},"Add Entry")]},n.a.createElement(g.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"duration"},n.a.createElement(g.a.Label,null,"Duration"),n.a.createElement(g.a.Control,{type:"text",name:"time",placeholder:"hh:mm:ss",defaultValue:this.state.data.time,onChange:p}))),n.a.createElement(y.a,{sm:!0,style:{margin:"auto"}},n.a.createElement(S.a,{setTimer:this.setTimer}))),n.a.createElement(C.a,{className:"mt-2"},n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"matter"},n.a.createElement(g.a.Label,null,"Matter"),n.a.createElement(g.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:p},n.a.createElement("option",null,"Select a matter"),this.state.option))),n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"rate"},n.a.createElement(g.a.Label,null,"Rate"),n.a.createElement(g.a.Control,{required:!0,type:"number",name:"rate",placeholder:"0.0 /h",onChange:p})))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"Description"},n.a.createElement(g.a.Label,null,"Description"),n.a.createElement(g.a.Control,{name:"description",as:"textarea",rows:"3",placeholder:"Description",onChange:p})))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"date"},n.a.createElement(g.a.Label,null,"Date"),n.a.createElement(g.a.Control,{required:!0,type:"date",name:"date",placeholder:"Date",onChange:p})))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",onChange:p}),n.a.createElement("br",null))))),n.a.createElement(d.a,{title:"Edit Time Entry",visible:this.state.editTime,onOk:()=>this.handleOk("time"),onCancel:()=>this.handleCancel("time"),afterClose:()=>this.handleCancel("time"),footer:[n.a.createElement(s.a,{onClick:()=>this.handleCancel("time")},"Cancel"),n.a.createElement(s.a,{type:"primary",disabled:this.state.disabletime,onClick:()=>this.handleOk("time")},"Update Entry")]},n.a.createElement(g.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"duration"},n.a.createElement(g.a.Label,null,"Duration"),n.a.createElement(g.a.Control,{type:"text",name:"time",defaultValue:this.state.data.time,onChange:p}))),n.a.createElement(y.a,{sm:!0,style:{margin:"auto"}},n.a.createElement(S.a,{setTimer:this.setTimer}))),n.a.createElement(C.a,{className:"mt-2"},n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"matter"},n.a.createElement(g.a.Label,null,"Matter"),n.a.createElement(g.a.Control,{as:"select",name:"matter",value:this.state.data.matter?this.state.data.matter.matterDescription:"",onChange:p},n.a.createElement("option",null,"Select a matter"),this.state.option))),n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"rate"},n.a.createElement(g.a.Label,null,"Rate"),n.a.createElement(g.a.Control,{required:!0,type:"number",name:"rate",defaultValue:this.state.data.rate,onChange:p})))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"Description"},n.a.createElement(g.a.Label,null,"Description"),n.a.createElement(g.a.Control,{name:"description",as:"textarea",rows:"3",defaultValue:this.state.data.description,onChange:p})))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"date"},n.a.createElement(g.a.Label,null,"Date"),n.a.createElement(g.a.Control,{required:!0,type:"date",name:"date",defaultValue:this.state.data.date,onChange:p})))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",defaultChecked:"Yes"===this.state.data.billable,onChange:p}),n.a.createElement("br",null))))),n.a.createElement(d.a,{title:"New Expense",visible:this.state.expenseModal,onOk:()=>this.handleOk("expense"),onCancel:()=>this.handleCancel("expense"),afterClose:()=>this.handleCancel("expense"),footer:[n.a.createElement(s.a,{onClick:()=>this.handleCancel("expense")},"Cancel"),n.a.createElement(s.a,{type:"primary",disabled:this.state.disableExpense,onClick:()=>this.handleOk("expense")},"Add Entry")]},n.a.createElement(g.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"quantity"},n.a.createElement(g.a.Label,null,"Quantity"),n.a.createElement(g.a.Control,{type:"number",name:"qty",placeholder:"1.0",onChange:p}))),n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"matter"},n.a.createElement(g.a.Label,null,"Matter"),n.a.createElement(g.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:p},n.a.createElement("option",null,"Select a matter"),this.state.option)))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"Description"},n.a.createElement(g.a.Label,null,"Description"),n.a.createElement(g.a.Control,{name:"description",as:"textarea",rows:"3",placeholder:"Description",onChange:p})))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"rate"},n.a.createElement(g.a.Label,null,"Rate"),n.a.createElement(g.a.Control,{required:!0,type:"number",name:"rate",placeholder:"0.0 /h",onChange:p}))),n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"date"},n.a.createElement(g.a.Label,null,"Date"),n.a.createElement(g.a.Control,{required:!0,type:"date",name:"date",placeholder:"Date",onChange:p})))),n.a.createElement(g.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",onChange:p}),n.a.createElement("br",null))),n.a.createElement(d.a,{title:"Edit Expense",visible:this.state.EditExpense,onOk:()=>this.handleOk("expense"),onCancel:()=>this.handleCancel("expense"),afterClose:()=>this.handleCancel("expense"),footer:[n.a.createElement(s.a,{onClick:()=>this.handleCancel("expense")},"Cancel"),n.a.createElement(s.a,{type:"primary",disabled:this.state.disableExpense,onClick:()=>this.handleOk("expense")},"Update Entry")]},n.a.createElement(g.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"quantity"},n.a.createElement(g.a.Label,null,"Quantity"),n.a.createElement(g.a.Control,{type:"number",name:"qty",defaultValue:this.state.data.qty,onChange:p}))),n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"matter"},n.a.createElement(g.a.Label,null,"Matter"),n.a.createElement(g.a.Control,{as:"select",name:"matter",value:this.state.data.matter?this.state.data.matter.matterDescription:"",onChange:p},n.a.createElement("option",null,"Select a matter"),this.state.option)))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"Description"},n.a.createElement(g.a.Label,null,"Description"),n.a.createElement(g.a.Control,{name:"description",as:"textarea",rows:"3",defaultValue:this.state.data.description,onChange:p})))),n.a.createElement(C.a,null,n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"date"},n.a.createElement(g.a.Label,null,"Date"),n.a.createElement(g.a.Control,{required:!0,type:"date",name:"date",defaultValue:this.state.data.date,onChange:p}))),n.a.createElement(y.a,{sm:!0},n.a.createElement(g.a.Group,{controlId:"rate"},n.a.createElement(g.a.Label,null,"Rate"),n.a.createElement(g.a.Control,{required:!0,type:"number",name:"rate",defaultValue:this.state.data.rate,onChange:p})))),n.a.createElement(g.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",defaultChecked:"Yes"===this.state.data.billable,onChange:p}),n.a.createElement("br",null)))))}}t.default=Object(h.b)(e=>({userId:e.user.token.user._id}))(O)}}]);
//# sourceMappingURL=41.553b4567.chunk.js.map