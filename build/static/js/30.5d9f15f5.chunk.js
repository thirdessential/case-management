(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[30],{317:function(e,t,a){"use strict";var l=a(0),n=a.n(l),s=a(242),r=a.n(s);class o extends l.Component{constructor(e){super(e),console.log("data in excel",e.dataSource)}render(){return console.log(this.props),n.a.createElement("div",null,n.a.createElement("table",{id:"matter",className:"d-none"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"S.No"),n.a.createElement("th",null,"Last Seen"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Due Date"),n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Client"),n.a.createElement("th",null,"Matter"),n.a.createElement("th",null,"Issue Date"),n.a.createElement("th",null,"Balance"))),n.a.createElement("tbody",null,this.props.dataSource.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,t+1),n.a.createElement("td",null,e.lastSeen),n.a.createElement("td",null,e.status),n.a.createElement("th",null,e.dueDate),n.a.createElement("th",null,e.id),n.a.createElement("th",null,e.client),n.a.createElement("th",null,e.matter),n.a.createElement("th",null,e.issueDate),n.a.createElement("th",null,e.balance))))),n.a.createElement(r.a,{className:"btn btn-outline-primary btn-sm excel-button",table:"matter",filename:"Bills",sheet:"Sheet",buttonText:"Export to Excel"}))}}t.a=o},457:function(e,t,a){"use strict";var l=a(946),n=a(989),s=a(0),r=a.n(s);const o=l.a.TabPane;t.a=e=>{var t=new Date,a=t,s=new Date(t.getTime()+24*(6-t.getDay())*60*60*1e3);const c=new Date(t);c.setDate(c.getDate()+1);const i=new Date;return i.setDate(i.getDate()-1),console.log(" tommorow :"+c),console.log(" today : "+t),void 0!==e.tableData&&0!==e.tableData.length?r.a.createElement(l.a,{defaultActiveKey:"1"},r.a.createElement(o,{tab:"All",key:"1"},r.a.createElement(n.a,{className:"table-responsive",dataSource:e.tableData,columns:e.columns})),r.a.createElement(o,{tab:"Due Today",key:"3"},r.a.createElement(n.a,{className:"table-responsive",dataSource:e.tableData.filter(e=>{var a=new Date(Date.parse(e.dueDate));return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()}),columns:e.columns})),r.a.createElement(o,{tab:"Due this Week",key:"2"},r.a.createElement(n.a,{className:"table-responsive",dataSource:e.tableData.filter(e=>{var l=new Date(Date.parse(e.dueDate));return l<s&&l>a||l.getDate()===t.getDate()&&l.getMonth()===t.getMonth()&&l.getFullYear()===t.getFullYear()}),columns:e.columns})),r.a.createElement(o,{tab:"Due Tomorow",key:"4"},r.a.createElement(n.a,{className:"table-responsive",dataSource:e.tableData.filter(e=>{var t=new Date(Date.parse(e.dueDate));return t.getDate()===c.getDate()&&t.getMonth()===c.getMonth()&&t.getFullYear()===c.getFullYear()}),columns:e.columns})),r.a.createElement(o,{tab:"Overdue",key:"5"},r.a.createElement(n.a,{className:"table-responsive",dataSource:e.tableData.filter(e=>new Date(Date.parse(e.dueDate))<=i),columns:e.columns}))):r.a.createElement("div",null)}},458:function(e,t,a){"use strict";var l=a(221),n=a(0),s=a.n(n),r=a(989);a(3);t.a=function(e){const t=Object(n.useState)([]),a=Object(l.a)(t,2);return a[0],a[1],s.a.createElement("div",null,s.a.createElement(r.a,{className:"table-responsive",columns:e.columns,dataSource:e.tableData}))}},460:function(e,t,a){"use strict";var l=a(0),n=a.n(l),s=a(242),r=a.n(s);class o extends l.Component{constructor(e){super(e),console.log("data in excel",e.dataSource)}getISTDate(e){return new Date(e).toLocaleString()}render(){return console.log(this.props),n.a.createElement("div",null,n.a.createElement("table",{id:"matter",className:"d-none"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"S.No"),n.a.createElement("th",null,"Task Name"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Matter"),n.a.createElement("th",null,"Due Date"))),n.a.createElement("tbody",null,this.props.dataSource.map((e,t)=>{if(e.matter)return n.a.createElement("tr",{key:t},n.a.createElement("td",null,t+1),n.a.createElement("td",null,e.taskName),n.a.createElement("td",null,e.description),n.a.createElement("td",null,e.matter.matterDescription?e.matter.matterDescription:e.matter),n.a.createElement("td",null,e.dueDate.substring(0,10)))}))),n.a.createElement(r.a,{className:"btn btn-outline-primary btn-sm excel-button",table:"matter",filename:"Task",sheet:"Sheet",buttonText:"Export to Excel"}))}}t.a=o},610:function(e,t,a){"use strict";a.r(t);var l=a(225),n=a.n(l),s=a(226),r=a(221),o=a(0),c=a.n(o),i=a(3),m=a(946),d=a(1001),u=a(153),p=a(268),h=a(1004),E=a(110),b=a(996),g=a(973),y=a(728),f=a(999),C=a(989),D=a(8),k=a(230),x=a.n(k),v=(a(231),a(13)),S=a.n(v),N=a(242),I=a.n(N);class T extends o.Component{constructor(e){super(e),console.log("data in excel",e.dataSource)}render(){return console.log(this.props),c.a.createElement("div",null,c.a.createElement("table",{id:"matter",className:"d-none"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"S.No"),c.a.createElement("th",null,"Hours"),c.a.createElement("th",null,"type"),c.a.createElement("th",null,"Time"),c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Subject"),c.a.createElement("th",null,"Matter"),c.a.createElement("th",null,"from"),c.a.createElement("th",null,"to"))),c.a.createElement("tbody",null,this.props.dataSource.map((e,t)=>c.a.createElement("tr",{key:t},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.addTime),c.a.createElement("td",null,e.logType),c.a.createElement("td",null,e.time),c.a.createElement("td",null,e.date),c.a.createElement("td",null,e.subject),c.a.createElement("td",null,e.matter),c.a.createElement("td",null,e.from),c.a.createElement("td",null,e.to))))),c.a.createElement(I.a,{className:"btn btn-outline-primary btn-sm excel-button",table:"matter",filename:"Communications",sheet:"Sheet",buttonText:"Export to Excel"}))}}var j=T;let O="",w={},M={},F={},L=null,G=null,P=null,A=null,_=null;const B=JSON.parse(window.localStorage.getItem("Case.user")),q=B.token.user.firstName+" "+B.token.user.lastName;console.log(B.token.user);class Y extends c.a.Component{constructor(e){super(e),this.convertTime=e=>{var t=new Date(e).toUTCString();return new Date(t+" UTC")},this.showModal=e=>{"secure"===e?this.setState({secure:!0}):"email"===e?this.setState({email:!0}):"phone"===e&&this.setState({phone:!0})},this.handleOk=e=>{if(E.a.destroy(),""!==O)E.a.error({message:"Invalid time,  Please enter time in the format : HH:MM:SS"});else if(""==this.state.data.subject)E.a.error({message:"Please add a subject"});else if(""==this.state.data.body)E.a.error({message:"Please add a body"});else if(this.setState({disable:!0}),this.state.editEmail||this.state.editPhone){let t=this.state.data;console.log(t),null==A&&(t.from=t.fromId),null==_&&(t.to=t.toId),"email"===e?(t.logType="email",this.setState({email:!1})):"phone"===e&&(t.logType="phone",this.setState({phone:!1})),t.userId=this.props.userId,console.log(t),i.b.post("/communication/edit/"+this.state.data.id,t).then(e=>{console.log(e),this.componentDidMount(),this.setState({disable:!1}),E.a.success({message:"Log Edited !"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{S.a.findDOMNode(this.messageForm).reset(),P=null,A=null,_=null,this.setState({editPhone:!1,editEmail:!1,disable:!1,data:{billable:!0,nonBillable:!1,date:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})}else{let t=this.state.data;"email"===e?(t.logType="email",this.setState({email:!1})):"phone"===e&&(t.logType="phone",this.setState({phone:!1})),t.userId=this.props.userId,console.log(t),i.b.post("/communication/create",t).then(e=>{console.log(e),this.setState({disable:!1}),this.componentDidMount(),E.a.success({message:"Log Added !"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{S.a.findDOMNode(this.messageForm).reset()})}},this.handleSecure=()=>{if(E.a.destroy(),""==this.state.data.to)E.a.error({message:"Please add a contact to send message"});else if(""==this.state.data.subject)E.a.error({message:"Please add a subject"});else if(""==this.state.data.body)E.a.error({message:"Please add a body"});else if(this.setState({disable:!0}),this.state.editSecure){let e=this.state.data;e.logType="secure",e.userId=this.props.userId,console.log(e),i.b.post("/communication/edit/"+this.state.data.id,e).then(e=>{console.log(e),this.componentDidMount(),this.setState({disable:!1}),E.a.success({message:"Log Edited !"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{S.a.findDOMNode(this.messageForm).reset(),this.setState({editSecure:!1,secure:!1,disable:!1,data:{billable:!0,nonBillable:!1,date:"",to:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})}else{let e=this.state.data;e.logType="secure",e.userId=this.props.userId,e.time=(new Date).getHours()+":"+(new Date).getMinutes(),e.from=B.token.user._id,console.log(e),i.b.get("/contact/view/".concat(e.to)).then(t=>{console.log(t);let a=0!=t.data.data.emailAddress.length?t.data.data.emailAddress[0].emailAddress:"",l=0!=t.data.data.phone.length?t.data.data.phone[0].phone:"";console.log(e);let n={to:a,subject:e.subject,text:e.body,date:new Date},s={mobile:l,content:e.body};console.log(n),console.log(s),""!==l&&i.b.post("/communication/sendsms",s).then(e=>{console.log(e),E.a.success({message:"SMS Sent"})}).catch(e=>{console.log(e),E.a.error({message:"Failed to send the sms"})}),""!==a&&i.b.post("/communication/sendemail",n).then(t=>{console.log(t),E.a.success({message:"Email Sent"}),i.b.post("/communication/create",e).then(e=>{console.log(e),this.componentDidMount(),E.a.success({message:"Log Added !"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{this.setState({disable:!1,secure:!1,editSecure:!1}),S.a.findDOMNode(this.messageForm).reset()})}).catch(e=>{console.log(e),E.a.error({message:"Failed to send the email"})})})}},this.handleCancel=e=>{P=null,A=null,_=null,"secure"===e?(this.setState({secure:!1,editSecure:!1,disable:!1,data:{subject:"",body:"",to:"",from:q}}),console.log(this.state)):"email"===e?(this.setState({email:!1,phone:!1,disable:!1,editEmail:!1,editSecure:!1,secure:!1,data:{subject:"",body:"",to:"",from:q}}),console.log(this.state)):"phone"===e&&(this.setState({phone:!1,email:!1,editPhone:!1,disable:!1,data:{subject:"",body:"",to:"",from:q}}),console.log(this.state)),setTimeout(()=>{},500)},this.state={phone:!1,email:!1,secure:!1,tableData:[],data:{subject:"",body:"",to:"",from:B.token.user._id},loading:!0,emailData:[],phoneData:[],completeData:[],tableData:[],editEmail:!1,editPhone:!1,editSecure:!1,disable:!1}}componentDidMount(){i.b.get("/matter/viewforuser/"+this.props.userId).then(e=>{w=e,L=e.data.data.map((e,t)=>c.a.createElement("option",{value:e._id},e.matterDescription))}).then(()=>{console.log(L),this.setState({option:L})}),i.b.get("/contact/viewforuser/"+this.props.userId).then(e=>{F=e,G=e.data.data.map((e,t)=>c.a.createElement("option",{id:t},e.firstName+" "+e.lastName))}).then(()=>{this.setState({contacts:G})}),i.b.get("/communication/viewformatter/"+this.props.userId+"/"+this.props.id).then(e=>{M=e.data.data,console.log(M);let t=[],a=[],l=[];e.data.data.map((e,n)=>{const s={key:n,logType:e.logType,type:e.logType,id:e._id,addTime:e.addTime?e.addTime:"-",time:e.time?e.time:"",matterDesc:e.matter?e.matter.matterDescription:"-",matter:e.matter?e.matter._id:"",from:e.from?e.from.firstName+" "+e.from.lastName:"-",fromId:e.from?e.from._id:"",to:e.to?e.to.firstName+" "+e.to.lastName:"-",toId:e.to?e.to._id:"",subject:e.subject?e.subject:"-",body:e.body,date:e.date?e.date.substring(0,10):"-"};"email"!==e.logType&&"secure"!==e.logType||t.push(s),"secure"===e.logType&&(s.from=q,s.type="secure",s.logType="email",t.push(s)),"phone"===e.logType&&a.push(s),l.push(s)}),this.setState({completeData:l,phoneData:a,emailData:t,tableData:l,loading:!1})})}render(){const e=e=>{e.persist(),this.setState({touched:!1});const t=e.target,a=t.name,l=(t.id,t.value),n=t.selectedIndex;let s=this.state.data;if("matter"===a)n>=1?(P="",s[a]=l):s[a]="";else if("to"===a||"from"===a)console.log(w),n>=1?("to"===a?_="":A="",s[a]=F.data.data[n-1]._id):s[a]="";else if("addTime"===a){O="";var r=l;if(""==r||r.indexOf(":")<0)O="Inavlid Time",console.log(O);else{var o=r.split(":")[0],c=r.split(":")[1],i=r.split(":")[2];console.log(i),""==o||isNaN(o)?(O="Inavlid Time",console.log(O)):0==parseInt(o)&&(o="00"),""==c||isNaN(c)||parseInt(c)>59?(O="Inavlid Time",console.log(O)):0==parseInt(c)&&(c="00"),""==i||isNaN(i)?(O="Inavlid Time",console.log(O)):0==parseInt(i)&&(i="00"),r=o+":"+c+":"+i}s[a]=r,this.setState({data:s})}else console.log("inside last"),s[a]=l,this.setState({data:s});console.log(this.state)},t=e=>{console.log(e),"email"===e.logType?("secure"===e.type&&this.setState({editSecure:!0}),this.setState({editEmail:!0,data:e})):"phone"===e.logType&&this.setState({editPhone:!0,data:e}),console.log(e)},a=e=>{i.b.get("/communication/delete/"+e.id).then(e=>{this.componentDidMount(),E.a.success({message:"Log Deleted !"}),setTimeout(()=>{},1500)}).catch(e=>{E.a.error({message:"Failed to delete"})})},l=e=>{"email"===e?this.setState({tableData:this.state.emailData}):"phone"===e?this.setState({tableData:this.state.phoneData}):"all"===e&&this.setState({tableData:this.state.completeData})},n=[{title:"Hours",dataIndex:"addTime",key:"addTime"},{title:"Type",dataIndex:"logType",key:"logType"},{title:"Time",dataIndex:"time",key:"time"},{title:"Date",dataIndex:"date",key:"date"},{title:"Subject",dataIndex:"subject",key:"subject"},{title:"Matter",dataIndex:"matterDesc",key:"matterDesc"},{title:"From",dataIndex:"from",key:"from"},{title:"To",dataIndex:"to",key:"to"},{title:"Edit",dataIndex:"edit",key:"_id",render:(e,a)=>c.a.createElement(p.a,{variant:"danger",onClick:()=>t(a)},"Edit")},{title:"Delete",dataIndex:"delete",key:"_id",render:(e,t)=>c.a.createElement(h.a,{title:"Are you sure delete this Log?",onConfirm:()=>a(t),okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete"))}];return c.a.createElement(u.a,{size:"large",spinning:this.state.loading},c.a.createElement("div",{className:"p-2 "},c.a.createElement("div",{className:"d-flex mb-2 title-component-header"},c.a.createElement("div",{className:"title-header-name"},c.a.createElement("h5",null,"Communication")),c.a.createElement("div",{className:"d-flex extra-iteam-div"},c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>{const e=new x.a("portrait","pt","A4");e.setFontSize(15);let t=[];this.state.tableData.map((e,a)=>{const l=[e.addTime,e.logType,e.time,e.Date,e.subject,e.matter,e.from,e.to];t.push(l)});let a={startY:50,head:[["Hours","Type","Time","Date","Subject","Matter","From","To"]],body:t};e.text("communication",40,40),e.autoTable(a),e.save("communications.pdf")}},"Export to PDF"),c.a.createElement(j,{dataSource:this.state.tableData||[]}),c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>this.showModal("secure")},"New secure message"),c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>this.showModal("email")},"New Email Log"),c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>this.showModal("phone")},"New Phone Log"))),c.a.createElement(d.a,{bodyStyle:{padding:"14px 10px 0px 10px"}},c.a.createElement("div",{style:{display:"flex","flex-wrap":"wrap","justify-content":"space-between"}},c.a.createElement("div",{className:"mb-2"},c.a.createElement(p.a,{onClick:()=>l("all")},"All"),c.a.createElement(p.a,{onClick:()=>l("email")},"Email"),c.a.createElement(p.a,{onClick:()=>l("phone")},"Phone")))),c.a.createElement(d.a,{bodyStyle:{padding:"0px"},className:"overflow-auto"},c.a.createElement(C.a,{className:"table-responsive",columns:n,dataSource:this.state.tableData})),c.a.createElement(b.a,{title:this.state.secure?"Edit Secure message":"New Secure Message",visible:this.state.secure,onOk:this.handleSecure,onCancel:()=>this.handleCancel("secure"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("secure")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disable,onClick:this.handleSecure},this.state.editSecure?"Update Log":"Send")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:e},c.a.createElement("option",null,"Select a matter"),this.state.option)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"From"),c.a.createElement(f.a.Control,{as:"select",name:"from",placeholder:"Select a contact",onChange:e},c.a.createElement("option",null,q)))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"To"),c.a.createElement(f.a.Control,{as:"select",name:"to",placeholder:"Select a contact",onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.contacts)))),c.a.createElement(f.a.Group,{controlId:"subject"},c.a.createElement(f.a.Label,null,"Subject"),c.a.createElement(f.a.Control,{name:"subject",rows:"3",placeholder:"subject",onChange:e})),c.a.createElement(f.a.Group,{controlId:"body"},c.a.createElement(f.a.Label,null,"Body"),c.a.createElement(f.a.Control,{name:"body",as:"textarea",rows:"3",placeholder:"body",onChange:e})))),c.a.createElement(b.a,{title:this.state.editEmail?"Edit email log":"Add a email log",visible:this.state.editEmail,onOk:()=>this.handleOk("email"),onCancel:()=>this.handleCancel("email"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("email")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disable,onClick:()=>this.handleOk("email")},this.state.editEmail?"Edit Log":"Save Log")]},this.state.editEmail?c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",defaultValue:this.state.data.matter,onChange:e},c.a.createElement("option",null,"Select a matter"),this.state.option)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"From"),c.a.createElement(f.a.Control,{as:"select",name:"from",defaultValue:this.state.data.from,onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.editSecure?c.a.createElement("option",null,q):this.state.contacts))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"To"),c.a.createElement(f.a.Control,{as:"select",name:"to",defaultValue:this.state.data.to,onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.contacts)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Time"),c.a.createElement(f.a.Control,{required:!0,type:"time",name:"time",defaultValue:this.state.data.time,onChange:e}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",name:"date",defaultValue:this.state.data.date,onChange:e})))),c.a.createElement(f.a.Group,{controlId:"subject"},c.a.createElement(f.a.Label,null,"Subject"),c.a.createElement(f.a.Control,{name:"subject",rows:"3",defaultValue:this.state.data.subject,onChange:e})),c.a.createElement(f.a.Group,{controlId:"body"},c.a.createElement(f.a.Label,null,"Body"),c.a.createElement(f.a.Control,{name:"body",as:"textarea",rows:"3",defaultValue:this.state.data.body,onChange:e}))):null),c.a.createElement(b.a,{title:this.state.editEmail?"Edit email log":"Add a email log",visible:this.state.email,onOk:()=>this.handleOk("email"),onCancel:()=>this.handleCancel("email"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("email")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disable,onClick:()=>this.handleOk("email")},this.state.editEmail?"Update Log":"Save Log")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:e},c.a.createElement("option",null,"Select a matter"),this.state.option)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"From"),c.a.createElement(f.a.Control,{as:"select",name:"from",placeholder:"Select a contact",onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.contacts))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"To"),c.a.createElement(f.a.Control,{as:"select",name:"to",placeholder:"Select a contact",onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.contacts)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Time"),c.a.createElement(f.a.Control,{required:!0,type:"time",name:"time",placeholder:"Time",onChange:e}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",name:"date",placeholder:"Date",onChange:e})))),c.a.createElement(f.a.Group,{controlId:"subject"},c.a.createElement(f.a.Label,null,"Subject"),c.a.createElement(f.a.Control,{name:"subject",rows:"3",placeholder:"subject",onChange:e})),c.a.createElement(f.a.Group,{controlId:"body"},c.a.createElement(f.a.Label,null,"Body"),c.a.createElement(f.a.Control,{name:"body",as:"textarea",rows:"3",placeholder:"body",onChange:e})))),c.a.createElement(b.a,{title:this.state.editPhone?"Edit phone log":"Add a phone log",visible:this.state.editPhone,onOk:()=>this.handleOk("phone"),onCancel:()=>this.handleCancel("phone"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("phone")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disable,onClick:()=>this.handleOk("phone")},this.state.editPhone?"Edit Log":"Save Log")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"duration"},c.a.createElement(f.a.Label,null,"Duration"),c.a.createElement(f.a.Control,{type:"text",name:"addTime",defaultValue:this.state.data.addTime,onChange:e}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",defaultValue:this.state.data.matter,onChange:e},c.a.createElement("option",null,"Select a matter"),this.state.option)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"From"),c.a.createElement(f.a.Control,{as:"select",name:"from",defaultValue:this.state.data.from,onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.contacts))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"To"),c.a.createElement(f.a.Control,{as:"select",name:"to",defaultValue:this.state.data.to,onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.contacts)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Time"),c.a.createElement(f.a.Control,{required:!0,type:"time",name:"time",defaultValue:this.state.data.time,onChange:e}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",name:"date",defaultValue:this.state.data.date,onChange:e})))),c.a.createElement(f.a.Group,{controlId:"subject"},c.a.createElement(f.a.Label,null,"Subject"),c.a.createElement(f.a.Control,{name:"subject",rows:"3",defaultValue:this.state.data.subject,onChange:e})),c.a.createElement(f.a.Group,{controlId:"body"},c.a.createElement(f.a.Label,null,"Body"),c.a.createElement(f.a.Control,{name:"body",as:"textarea",rows:"3",defaultValue:this.state.data.body,onChange:e})))),c.a.createElement(b.a,{title:this.state.editPhone?"Edit phone log":"Add a phone log",visible:this.state.phone,onOk:()=>this.handleOk("phone"),onCancel:()=>this.handleCancel("phone"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("phone")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disable,onClick:()=>this.handleOk("phone")},this.state.editPhone?"Update Log":"Save Log")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"duration"},c.a.createElement(f.a.Label,null,"Duration"),c.a.createElement(f.a.Control,{type:"text",name:"addTime",placeholder:"hh:mm:ss",onChange:e}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:e},c.a.createElement("option",null,"Select a matter"),this.state.option)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"From"),c.a.createElement(f.a.Control,{as:"select",name:"from",placeholder:"Select a contact",onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.contacts))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"To"),c.a.createElement(f.a.Control,{as:"select",name:"to",placeholder:"Select a contact",onChange:e},c.a.createElement("option",null,"Select a contact"),this.state.contacts)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Time"),c.a.createElement(f.a.Control,{required:!0,type:"time",name:"time",placeholder:"Time",onChange:e}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",name:"date",placeholder:"Date",onChange:e})))),c.a.createElement(f.a.Group,{controlId:"subject"},c.a.createElement(f.a.Label,null,"Subject"),c.a.createElement(f.a.Control,{name:"subject",rows:"3",placeholder:"subject",onChange:e})),c.a.createElement(f.a.Group,{controlId:"body"},c.a.createElement(f.a.Label,null,"Body"),c.a.createElement(f.a.Control,{name:"body",as:"textarea",rows:"3",placeholder:"body",onChange:e}))))))}}var U=Object(D.b)(e=>({userId:e.user.token.user._id}))(Y),V=a(457),H=a(458),R=a(975),z=a(460);let W={};class K extends c.a.Component{constructor(e){super(e),this.exportPDF=()=>{const e=new x.a("portrait","pt","A4");e.setFontSize(15);let t=[];this.state.tableData.map((e,a)=>{const l=[a,e.taskName,e.description,e.matter,e.dueDate.substring(0,10)];t.push(l)});let a={startY:50,head:[["S.No","Task Name","Description","Matter","Due Date"]],body:t};e.text("Tasks",40,40),e.autoTable(a),e.save("Tasks.pdf")},this.showModal=()=>{this.setState({visible:!0})},this.openNotificationWithFailure=e=>{E.a[e]({message:"Failure"})},this.openNotificationWithSucces=e=>{E.a[e]({message:"Task Saved"})},this.handleCancel=()=>{S.a.findDOMNode(this.messageForm).reset(),this.setState({visible:!1,editMode:!1,Data:{priority:"Normal",matter:""}})},this.handleChange=e=>{e.persist();let t=this.state;"matter"===e.target.id?e.target.selectedIndex>0&&(t.index=e.target.selectedIndex,t.Data[e.target.id]=e.target.value):t.Data[e.target.id]=e.target.value,this.setState(t),console.log(this.state)},this.handleView=e=>{delete e.edit,delete e.delete,this.props.history.push("/tasks/view/list",e)},this.columns=[{title:"Task Name",dataIndex:"taskName",key:"1"},{title:"Description",dataIndex:"description",key:"2"},{title:"Due Date",dataIndex:"dueDate",key:"3",sortDirections:["descend","ascend"],sorter:(e,t)=>e.dueDate.length-t.dueDate.length},{title:"Action",dataIndex:"status",key:"7",render:(e,t)=>c.a.createElement(h.a,{title:"Mark as Complete",onConfirm:()=>this.handelAction(t._id),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(f.a.Check,{type:"checkbox"}))},{title:"Edit",dataIndex:"edit",key:"6",render:(e,t)=>c.a.createElement(p.a,{onClick:()=>this.EditHandler(t)},"Edit")},{title:"Delete",dataIndex:"delete",key:"7",render:(e,t)=>c.a.createElement(h.a,{title:"Are you sure delete this task?",onConfirm:()=>this.deleteHandler(t._id),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete"))}],this.handleOk=e=>{e.persist(),E.a.destroy();let t=!0;if(console.log(this.state.Data.matter),""===this.state.Data.taskName||void 0===this.state.Data.taskName)t=!1,E.a.warning({message:"Please provide a Task Name"});else if(""===this.state.Data.description||void 0===this.state.Data.description)t=!1,E.a.warning({message:"Please provide a description"});else if(""===this.state.Data.dueDate||void 0===this.state.Data.dueDate)t=!1,E.a.warning({message:"Please select a due date"});else if(""===this.state.Data.matter||void 0===this.state.Data.matter)t=!1,E.a.warning({message:"Please select a matter"});else if(t){this.setState({confirmLoading:!0,disable:!0});const e=this.state.Data;e.userId=this.props.userId,0!=this.state.index?e.matter=W[this.state.index-1]:e.matter=e.matterId,this.state.editMode?i.b.post("tasks/edit/"+e._id,e).then(e=>{console.log(e),this.componentDidMount(),E.a.success({message:"Task Edited"})}).catch(()=>{this.openNotificationWithFailure("error")}).then(()=>{this.setState({visible:!1,editMode:!1,disable:!1,index:0,Data:{priority:"Normal",matter:""},confirmLoading:!1}),S.a.findDOMNode(this.messageForm).reset()}):i.b.post("/tasks/create",e).then(e=>{console.log(e),this.openNotificationWithSucces("success"),this.componentDidMount()}).catch(()=>{this.openNotificationWithFailure("error")}).then(()=>{this.setState({visible:!1,editMode:!1,disable:!1,index:0,Data:{priority:"Normal",matter:""},confirmLoading:!1}),S.a.findDOMNode(this.messageForm).reset()})}},this.handelAction=e=>{this.setState({status:!0});const t=this.state.status;console.log(t),i.b.get("/tasks/updatetask/"+e,t).then(e=>{this.componentDidMount(),E.a.success({message:"Marked as completed"}),console.log(e)}).catch(e=>{console.log(e)}),setTimeout(()=>{},600)},this.handelNonAction=e=>{const t=e;t.status=!1,console.log(t),i.b.get("/tasks/setfalse/"+e._id,t).then(e=>{console.log(e),this.componentDidMount(),E.a.success({message:"Unmarked as completed"})}).catch(e=>{console.log(e)})},this.newcolumns=[{title:"Task Name",dataIndex:"taskName",key:"1"},{title:"Description",dataIndex:"description",key:"2"},{title:"Due Date",dataIndex:"dueDate",key:"3",sortDirections:["descend","ascend"],sorter:(e,t)=>e.dueDate.length-t.dueDate.length},{title:"Action",dataIndex:"status",key:"7",render:(e,t)=>c.a.createElement(h.a,{title:"Mark as Incomplete",onConfirm:()=>this.handelNonAction(t),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(f.a.Check,{type:"checkbox"}))},{title:"Edit",dataIndex:"edit",key:"6",render:(e,t)=>c.a.createElement(p.a,{onClick:()=>this.EditHandler(t)},"Edit")},{title:"Delete",dataIndex:"delete",key:"7",render:(e,t)=>c.a.createElement(h.a,{title:"Are you sure delete this task?",onConfirm:()=>this.deleteHandler(t._id),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete"))}],this.state={visible:!1,confirmLoading:!1,loading:!1,Data:{priority:"Normal",matter:""},editMode:!1,res:"",selected:null,status:!1,disable:!1,spinning:!0,options:[],index:0}}cancel(e){console.log(e),R.a.error("Canceled")}getISTDate(e){return new Date(e).toLocaleString()}componentDidMount(){var e=this;return Object(s.a)(n.a.mark((function t(){var a,l,s,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],l=[],s=[],r=[],i.b.get("/matter/viewforuser/"+e.props.userId).then(e=>{W=e.data.data,console.log(W),W.map((e,t)=>{r.push(c.a.createElement("option",null,e.matterDescription))})}),t.next=7,i.b.get("/tasks/fetchformatter/"+e.props.id).then(t=>{console.log(t),console.log(e.props.userId),t.data.data.map((e,t)=>{const n=e;n.matter=n.matter?n.matter.matterDescription:"nil",n.matterId=n.matter?n.matter._id:"",n.key=t,n.dueDate=n.dueDate?n.dueDate.substring(0,10):"-",0==e.status&&(s.push(n),a.push(n)),1==e.status&&l.push(n)}),e.setState({CompletedData:l,tableData:a,options:r,upcomingData:s,spinning:!1})});case 7:case"end":return t.stop()}}),t)})))()}deleteHandler(e){i.b.get("tasks/delete/"+e).then(e=>{console.log(e),E.a.success({message:"Task Deleted"}),this.componentDidMount()})}EditHandler(e){this.setState({editMode:!0}),this.setState({Data:e}),console.log(this.state.Data),this.setState({selected:e})}render(){console.log(this.state.tableData);const e=m.a.TabPane;return c.a.createElement(u.a,{size:"large",spinning:this.state.spinning},c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex mb-2 title-component-header"},c.a.createElement("div",{className:"title-header-name"},c.a.createElement("h5",null,"Task")),c.a.createElement("div",{className:"d-flex extra-iteam-div"},c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:this.exportPDF},"Export to Pdf"),c.a.createElement(z.a,{dataSource:this.state.tableData||[]}),c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:this.showModal},"ADD TASK"))),c.a.createElement(m.a,{defaultActiveKey:"1",onChange:e=>{console.log(e),1==e?(console.log("Key == 1"),this.setState({tableData:this.state.upcomingData}),console.log(this.state.tableData)):2==e&&(console.log("Key == 2"),this.setState({tableData:this.state.CompletedData}),console.log(this.state.tableData))},className:"card p-4 overflow-auto"},c.a.createElement(e,{tab:"Upcoming Tasks",key:"1"},c.a.createElement(V.a,{columns:this.columns,tableData:this.state.upcomingData})),c.a.createElement(e,{tab:"Completed Tasks",key:"2"},c.a.createElement(H.a,{columns:this.newcolumns,tableData:this.state.CompletedData}))),c.a.createElement(b.a,{title:"Create New Task",visible:this.state.visible,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,onOk:this.handleOk,footer:[c.a.createElement(p.a,{onClick:this.handleCancel},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disable,onClick:this.handleOk},"Create Task")]},c.a.createElement(f.a,{className:"form-details",id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(f.a.Group,{controlId:"taskName"},c.a.createElement(f.a.Label,null,"Task Name"),c.a.createElement(f.a.Control,{type:"text",placeholder:"Task Name",defaultValue:this.state.name,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"dueDate"},c.a.createElement(f.a.Label,null,"Due Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",placeholder:"Due Date",onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"description"},c.a.createElement(f.a.Label,null,"Description"),c.a.createElement(f.a.Control,{required:!0,as:"textarea",rows:"3",onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"priority"},c.a.createElement(f.a.Label,null,"Priority"),c.a.createElement(f.a.Control,{as:"select",defaultValue:"Normal",required:!0,onChange:this.handleChange},c.a.createElement("option",null,"Low"),c.a.createElement("option",null,"Normal"),c.a.createElement("option",null,"High"))),c.a.createElement(f.a.Group,{controlId:"matter"},c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{required:!0,as:"select",onChange:this.handleChange,name:"matter"},c.a.createElement("option",null,"Select a matter"),this.state.options.map(e=>e))),c.a.createElement("br",null))),c.a.createElement(b.a,{title:"Edit task",visible:this.state.editMode,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,onOk:this.handleOk,footer:[c.a.createElement(p.a,{onClick:this.handleCancel},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disable,onClick:this.handleOk},"Update Task")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e,className:"form-details"},c.a.createElement(f.a.Group,{controlId:"taskName"},c.a.createElement(f.a.Label,null,"Task Name"),c.a.createElement(f.a.Control,{required:!0,type:"text",defaultValue:this.state.Data.taskName,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"dueDate"},c.a.createElement(f.a.Label,null,"Due Date"),c.a.createElement(f.a.Control,{type:"date",defaultValue:this.state.Data.dueDate?this.state.Data.dueDate.substring(0,10):"",onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"description"},c.a.createElement(f.a.Label,null,"Description"),c.a.createElement(f.a.Control,{required:!0,defaultValue:this.state.Data.description,as:"textarea",rows:"3",onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"matter"},c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{required:!0,as:"select",value:this.state.Data.matter,onChange:this.handleChange,name:"matter"},c.a.createElement("option",null,"Select a matter"),this.state.options.map(e=>e))),c.a.createElement(f.a.Group,{controlId:"priority"},c.a.createElement(f.a.Label,null,"Priority"),c.a.createElement(f.a.Control,{as:"select",required:!0,defaultValue:this.state.Data.priority,onChange:this.handleChange},c.a.createElement("option",null,"Low"),c.a.createElement("option",null,"Normal"),c.a.createElement("option",null,"High"))),c.a.createElement("br",null)))))}}var Q=Object(D.b)(e=>({userId:e.user.token.user._id}))(K);class J extends o.Component{constructor(e){super(e),console.log("data in excel",e.dataSource)}render(){return console.log(this.props),c.a.createElement("div",null,c.a.createElement("table",{id:"matter",className:"d-none"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"S.No"),c.a.createElement("th",null,"Qty"),c.a.createElement("th",null,"Description"),c.a.createElement("th",null,"Billable"),c.a.createElement("th",null,"Rate"),c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Invoice Status"))),c.a.createElement("tbody",null,this.props.dataSource.map((e,t)=>c.a.createElement("tr",{key:t},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.qty),c.a.createElement("td",null,e.description),c.a.createElement("th",null,e.billable),c.a.createElement("th",null,e.rate),c.a.createElement("th",null,e.date),c.a.createElement("th",null,e.invoiceStatus))))),c.a.createElement(I.a,{className:"btn btn-outline-primary btn-sm excel-button",table:"matter",filename:"Acitivity",sheet:"Sheet",buttonText:"Export to Excel"}))}}var $=J,X=a(259);let Z={},ee={},te="",ae=null;class le extends c.a.Component{constructor(e){super(e),this.convertTime=e=>{var t=new Date(e).toUTCString();return new Date(t+" UTC")},this.setTimer=()=>{const e=window.localStorage.getItem("timer");let t=Math.floor(e/3600),a=Math.floor(e/60),l=e%60;a>=59&&(a%=60),l<10&&(l="0"+l);const n=this.state.data;n.time=t+":"+a+":"+l,this.setState({data:n})},this.showModal=e=>{"time"===e?this.setState({timeModal:!0}):"expense"===e&&this.setState({expenseModal:!0})},this.handleOk=e=>{if(E.a.destroy(),""!==te)E.a.error({message:"Invalid time,  Please enter time in the format : HH:MM:SS"});else if(""===this.state.data.date)E.a.error({message:"Please select a Date"});else if(""===this.state.data.rate)E.a.error({message:"Please provide rate"});else if(this.setState({disableExpense:!0,disabletime:!0}),this.state.editTime||this.state.EditExpense){if("time"===e){let e=this.state.data;e.type="time",e.userId=this.props.userId,i.b.post("/activity/edit/"+this.state.data.id,e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1,editTime:!1,EditExpense:!1}),E.a.success({message:"Time entry Edited !"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{S.a.findDOMNode(this.messageForm).reset(),this.setState({timeModal:!1,editmode:!1,data:{billable:!1,nonBillable:!1,date:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),console.log(this.state.data),setTimeout(()=>{},1500)})}else if("expense"===e){let e=this.state.data;e.type="expense",e.userId=this.props.userId,i.b.post("/activity/edit/"+this.state.data.id,e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1}),E.a.success({message:"Expense Edited!"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{S.a.findDOMNode(this.messageForm).reset(),this.setState({expenseModal:!1,EditExpense:!1,editmode:!1,data:{billable:!1,nonBillable:!1,matter:"",date:"",rate:"",qty:"1.0",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})}}else if("time"===e){let e=this.state.data;e.type="time",e.userId=this.props.userId,i.b.post("/activity/create",e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1}),E.a.success({message:"Time entry Added !"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{S.a.findDOMNode(this.messageForm).reset(),this.setState({timeModal:!1,editmode:!1,data:{billable:!1,nonBillable:!1,matter:"",date:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})}else if("expense"===e){let e=this.state.data;e.type="expense",e.userId=this.props.userId,i.b.post("/activity/create",e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1}),E.a.success({message:"Expense Added !"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{S.a.findDOMNode(this.messageForm).reset(),this.setState({expenseModal:!1,editmode:!1,data:{billable:!1,nonBillable:!1,date:"",matter:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})}},this.handleCancel=e=>{S.a.findDOMNode(this.messageForm).reset(),console.log("Handle Cancel");let t=this.state;t.data={billable:!1,nonBillable:!1,matter:{},date:"",qty:"1.0",rate:"",invoice:"Unbilled"},this.setState(t),"time"===e?this.setState({timeModal:!1,editTime:!1}):"expense"===e&&this.setState({expenseModal:!1,EditExpense:!1}),console.log(this.state.data),this.setTimer()},this.state={expenseModal:!1,timeModal:!1,data:{billable:!1,qty:"1.0",date:"",rate:"",invoice:"Unbilled",time:"",matter:"",billed:!1},loading:!0,timeData:[],expenseData:[],completeData:[],tableData:[],editTime:!1,EditExpense:!1,record:"",touched:!0,disabletime:!1,disableExpense:!1,today:[]}}componentDidMount(){i.b.get("/matter/viewforuser/"+this.props.userId).then(e=>{Z=e,ae=e.data.data.map((e,t)=>c.a.createElement("option",{key:t,value:e.matterDescription},e.matterDescription))}).then(()=>{this.setState({option:ae})}),i.b.get("/activity/viewformatter/"+this.props.userId+"/"+this.props.id).then(e=>{ee=e.data.data;var t=new Date,a=new Date(t.getTime()+24*(6-t.getDay())*60*60*1e3);a.setHours(23),a.setMinutes(59),a.setSeconds(59);let l=[],n=[],s=[],r=[],o=[],c=[],i=[];e.data.data.map((e,m)=>{const d=this.convertTime(e.date);let u={key:m,type:e.type,id:e._id,qty:"time"===e.type?e.time:e.qty,time:e.time?e.time:"",matter:e.matter?e.matter:"-",description:e.description?e.description:"-",rate:e.rate,billable:e.billable?"Yes":"No",date:e.date.substring(0,10),invoiceStatus:e.billed?"Billed":"Unbilled"};console.log(t),console.log(d),console.log("sepeaaot"),"time"===e.type&&l.push(u),"expense"===e.type&&n.push(u),d.getDate()==t.getDate()&&d.getMonth()==t.getMonth()&&d.getFullYear()==t.getFullYear()&&r.push(u),d>=t&&d<=a&&o.push(u),d.getFullYear()==t.getFullYear()&&d.getMonth()==t.getMonth()&&c.push(u),d.getFullYear()==t.getFullYear()&&i.push(u),s.push(u)}),console.log(r),this.setState({completeData:s,expenseData:n,timeData:l,tableData:s,thisWeek:o,thisMonth:c,thisYear:i,today:r,loading:!1})}),this.setTimer()}render(){const e=e=>{let t=this.state;t.data=e,this.setState(t),"time"===e.type?this.setState({editTime:!0}):"expense"===e.type&&this.setState({EditExpense:!0}),console.log(this.state.data)},t=e=>{i.b.get("/activity/delete/"+e.id).then(e=>{this.componentDidMount(),E.a.success({message:"Activity Deleted !"}),setTimeout(()=>{},1500)}).catch(e=>{E.a.error({message:"Failed to delete"})})},a=e=>{"time"===e.type?(e.type="time",e.userId=this.props.userId,e.billable="Yes"===e.billable):"expense"===e.type&&(e.type="expense",e.userId=this.props.userId,e.billable="Yes"===e.billable),console.log(e),i.b.post("/activity/create",e).then(e=>{this.componentDidMount(),this.setState({disableExpense:!1,disabletime:!1}),E.a.success({message:"Acitivity duplicated !"})}).catch(e=>{E.a.error({message:"Failed"})}).then(()=>{this.setState({timeModal:!1,editmode:!1,data:{billable:!1,nonBillable:!1,date:"",qty:"1.0",rate:"",invoice:"Unbilled"}}),setTimeout(()=>{},1500)})},l=[{title:"Type",dataIndex:"type",key:"type"},{title:"Qty",dataIndex:"qty",key:"qty",sortDirections:["descend","ascend"],sorter:(e,t)=>e.qty>t.qty},{title:"Description",dataIndex:"description",key:"description"},{title:"Rate",dataIndex:"rate",key:"rate",sortDirections:["descend","ascend"],sorter:(e,t)=>e.rate>t.rate},{title:"Billable",dataIndex:"billable",key:"billable",filters:[{text:"Yes",value:"Yes"},{text:"No",value:"No"}],onFilter:(e,t)=>t.billable.includes(e)},{title:"Date",dataIndex:"date",key:"date",sortDirections:["descend","ascend"],sorter:(e,t)=>e.date>t.date},{title:"Invoice Status",dataIndex:"invoiceStatus",key:"invoiceStatus"},{title:"Edit",dataIndex:"edit",key:"_id",render:(t,a)=>c.a.createElement(p.a,{variant:"danger",onClick:()=>e(a)},"Edit")},{title:"Duplicate",dataIndex:"Dublicate",key:"_id",render:(e,t)=>c.a.createElement(p.a,{onClick:()=>a(t)},"Duplicate")},{title:"Delete",dataIndex:"delete",key:"_id",render:(e,a)=>c.a.createElement(h.a,{title:"Are you sure delete this Activity?",onConfirm:()=>t(a),okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete"))}],n=e=>{e.persist();const t=e.target,a=t.value,l=t.name;let n=this.state;if(n[l]=a,this.setState(n),void 0!=this.state.From&&void 0!=this.state.To){let e=[];ee.map((t,a)=>{const l={type:t.type,id:t._id,qty:t.qty,time:t.time?t.time:"",matter:t.matter?t.matter:"-",description:t.description?t.description:"-",rate:t.rate,billable:t.billable?"Yes":"No",date:t.date.substring(0,10),invoiceStatus:t.invoiceStatus?t.invoiceStatus:"-"};t.date>=this.state.From&&t.date<=this.state.To&&e.push(l)}),this.setState({tableData:e})}},s=e=>{e.persist(),this.setState({touched:!1});const t=e.target,a=t.name,l=(t.id,t.value),n=t.selectedIndex;let s=this.state.data;if("matter"===a)s[a]=n>=1?Z.data.data[n-1]:"";else if("time"===a){te="";var r=l;if(""==r||r.indexOf(":")<0)te="Inavlid Time",console.log(te);else{var o=r.split(":")[0],c=r.split(":")[1],i=r.split(":")[2];console.log(i),""==o||isNaN(o)?(te="Inavlid Time",console.log(te)):0==parseInt(o)&&(o="00"),""==c||isNaN(c)||parseInt(c)>59?(te="Inavlid Time",console.log(te)):0==parseInt(c)&&(c="00"),""==i||isNaN(i)?(te="Inavlid Time",console.log(te)):0==parseInt(i)&&(i="00"),r=o+":"+c+":"+i}s[a]=r,this.setState({data:s})}else"nonBillable"===a||"billable"===a?s.billable=!s.billable:(s[a]=l,this.setState({data:s}));console.log(this.state)},r=e=>{"time"===e?this.setState({tableData:this.state.timeData}):"expense"===e?this.setState({tableData:this.state.expenseData}):"all"===e&&this.setState({tableData:this.state.completeData})};return c.a.createElement(u.a,{size:"large",spinning:this.state.loading},c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex mb-2 title-component-header"},c.a.createElement("div",{className:"title-header-name"},c.a.createElement("h5",null,"Activities")),c.a.createElement("div",{className:"d-flex extra-iteam-div"},c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>{const e=new x.a("portrait","pt","A4");e.setFontSize(15);let t=[];this.state.tableData.map((e,a)=>{const l=[e.type,e.qty,e.description,e.billable,e.rate,e.date,e.invoiceStatus];t.push(l)});let a={startY:50,head:[["type","Qty","Description","Billable","Rate","Date","Invoice Status"]],body:t};e.text("Activity",40,40),e.autoTable(a),e.save("Activity.pdf")}},"Export to Pdf"),c.a.createElement($,{dataSource:this.state.tableData||[]}),c.a.createElement("button",{className:" btn  btn-outline-primary   btn-sm",onClick:()=>this.showModal("time")},"New Time Entry"),c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>this.showModal("expense")},"New Expense Entry"))),c.a.createElement(d.a,{bodyStyle:{padding:"14px 10px 0px 10px"}},c.a.createElement("div",{style:{display:"flex","flex-wrap":"wrap","justify-content":"space-between"}},c.a.createElement("div",{className:"mb-2",style:{"margin-top":"1rem"}},c.a.createElement(p.a,{onClick:()=>r("all")},"All"),c.a.createElement(p.a,{onClick:()=>r("time")},"Time"),c.a.createElement(p.a,{onClick:()=>r("expense")},"Expense")),c.a.createElement(f.a,{className:"pt-0"},c.a.createElement(f.a.Row,{className:"ml-1 date-activity-res"},c.a.createElement(f.a.Group,{controlId:"From",className:"mr-2",style:{display:"flex","flex-direction":"column"}},c.a.createElement(f.a.Label,{style:{marginBottom:"0px"}},"From"),c.a.createElement(f.a.Control,{size:"sm",type:"date",name:"From",onChange:n,style:{width:"175px"}})),c.a.createElement(f.a.Group,{controlId:"To",style:{display:"flex","flex-direction":"column"}},c.a.createElement(f.a.Label,{style:{marginBottom:"0px"}},"To"),c.a.createElement(f.a.Control,{size:"sm",type:"date",name:"To",onChange:n,style:{width:"175px"}})),c.a.createElement(f.a.Group,{controlId:"sorting",className:"short-activity-botton"},c.a.createElement(f.a.Control,{size:"sm",as:"select",name:"sorting",onChange:e=>{e.persist();const t=e.target.value;"This Week"===t?this.setState({tableData:this.state.thisWeek}):"Today"===t?this.setState({tableData:this.state.today}):"This month"===t?this.setState({tableData:this.state.thisMonth}):"This year"===t?this.setState({tableData:this.state.thisYear}):"Sort"===t&&this.setState({tableData:this.state.completeData})},style:{height:"fit-content",padding:"4px"}},c.a.createElement("option",null,"Sort"),c.a.createElement("option",null,"Today"),c.a.createElement("option",null,"This Week"),c.a.createElement("option",null,"This month"),c.a.createElement("option",null,"This year"))))))),c.a.createElement(d.a,{bodyStyle:{padding:"0px"},className:"overflow-auto"},c.a.createElement(C.a,{className:"table-responsive",columns:l,dataSource:this.state.tableData})),c.a.createElement(b.a,{title:"New Time Entry",visible:this.state.timeModal,onOk:()=>this.handleOk("time"),onCancel:()=>this.handleCancel("time"),afterClose:()=>this.handleCancel("time"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("time")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disabletime,onClick:()=>this.handleOk("time")},"Add Entry")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"duration"},c.a.createElement(f.a.Label,null,"Duration"),c.a.createElement(f.a.Control,{type:"text",name:"time",placeholder:"hh:mm:ss",defaultValue:this.state.data.time,onChange:s}))),c.a.createElement(y.a,{className:"activityTimer"},c.a.createElement(X.a,{setTimer:this.setTimer}))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"matter"},c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:s},c.a.createElement("option",null,"Select a matter"),this.state.option))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"rate"},c.a.createElement(f.a.Label,null,"Rate"),c.a.createElement(f.a.Control,{required:!0,type:"number",name:"rate",placeholder:"0.0 /h",onChange:s})))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"Description"},c.a.createElement(f.a.Label,null,"Description"),c.a.createElement(f.a.Control,{name:"description",as:"textarea",rows:"3",placeholder:"Description",onChange:s})))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",name:"date",placeholder:"Date",onChange:s})))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",onChange:s}),c.a.createElement("br",null))))),c.a.createElement(b.a,{title:"Edit Time Entry",visible:this.state.editTime,onOk:()=>this.handleOk("time"),onCancel:()=>this.handleCancel("time"),afterClose:()=>this.handleCancel("time"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("time")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disabletime,onClick:()=>this.handleOk("time")},"Update Entry")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"duration"},c.a.createElement(f.a.Label,null,"Duration"),c.a.createElement(f.a.Control,{type:"text",name:"time",defaultValue:this.state.data.time,onChange:s}))),c.a.createElement(y.a,{className:"activityTimer"},c.a.createElement(X.a,{setTimer:this.setTimer}))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"matter"},c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",value:this.state.data.matter?this.state.data.matter.matterDescription:"",onChange:s},c.a.createElement("option",null,"Select a matter"),this.state.option))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"rate"},c.a.createElement(f.a.Label,null,"Rate"),c.a.createElement(f.a.Control,{required:!0,type:"number",name:"rate",defaultValue:this.state.data.rate,onChange:s})))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"Description"},c.a.createElement(f.a.Label,null,"Description"),c.a.createElement(f.a.Control,{name:"description",as:"textarea",rows:"3",defaultValue:this.state.data.description,onChange:s})))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",name:"date",defaultValue:this.state.data.date,onChange:s})))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",defaultChecked:"Yes"===this.state.data.billable,onChange:s}),c.a.createElement("br",null))))),c.a.createElement(b.a,{title:"New Expense",visible:this.state.expenseModal,onOk:()=>this.handleOk("expense"),onCancel:()=>this.handleCancel("expense"),afterClose:()=>this.handleCancel("expense"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("expense")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disableExpense,onClick:()=>this.handleOk("expense")},"Add Entry")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"quantity"},c.a.createElement(f.a.Label,null,"Quantity"),c.a.createElement(f.a.Control,{type:"number",name:"qty",placeholder:"1.0",onChange:s}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"matter"},c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",placeholder:"Matter",onChange:s},c.a.createElement("option",null,"Select a matter"),this.state.option)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"Description"},c.a.createElement(f.a.Label,null,"Description"),c.a.createElement(f.a.Control,{name:"description",as:"textarea",rows:"3",placeholder:"Description",onChange:s})))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"rate"},c.a.createElement(f.a.Label,null,"Rate"),c.a.createElement(f.a.Control,{required:!0,type:"number",name:"rate",placeholder:"0.0 /h",onChange:s}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",name:"date",placeholder:"Date",onChange:s})))),c.a.createElement(f.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",onChange:s}),c.a.createElement("br",null))),c.a.createElement(b.a,{title:"Edit Expense",visible:this.state.EditExpense,onOk:()=>this.handleOk("expense"),onCancel:()=>this.handleCancel("expense"),afterClose:()=>this.handleCancel("expense"),footer:[c.a.createElement(p.a,{onClick:()=>this.handleCancel("expense")},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:this.state.disableExpense,onClick:()=>this.handleOk("expense")},"Update Entry")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:e=>this.messageForm=e},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"quantity"},c.a.createElement(f.a.Label,null,"Quantity"),c.a.createElement(f.a.Control,{type:"number",name:"qty",defaultValue:this.state.data.qty,onChange:s}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"matter"},c.a.createElement(f.a.Label,null,"Matter"),c.a.createElement(f.a.Control,{as:"select",name:"matter",value:this.state.data.matter?this.state.data.matter.matterDescription:"",onChange:s},c.a.createElement("option",null,"Select a matter"),this.state.option)))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"Description"},c.a.createElement(f.a.Label,null,"Description"),c.a.createElement(f.a.Control,{name:"description",as:"textarea",rows:"3",defaultValue:this.state.data.description,onChange:s})))),c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"date"},c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{required:!0,type:"date",name:"date",defaultValue:this.state.data.date,onChange:s}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"rate"},c.a.createElement(f.a.Label,null,"Rate"),c.a.createElement(f.a.Control,{required:!0,type:"number",name:"rate",defaultValue:this.state.data.rate,onChange:s})))),c.a.createElement(f.a.Check,{type:"checkbox",id:"billable",name:"billable",label:"Billable",defaultChecked:"Yes"===this.state.data.billable,onChange:s}),c.a.createElement("br",null)))))}}var ne=Object(D.b)(e=>({userId:e.user.token.user._id}))(le),se=a(317);const re=m.a.TabPane;class oe extends c.a.Component{constructor(){super(),this.handelBills=e=>{"record"===e&&this.props.history.push("/manage/billing/record")},this.state={tableData:[],draftBills:[],unpaidBills:[],paidBills:[],status:!1,loading:!0}}cancel(e){R.a.error("Canceled")}componentDidMount(){i.b.get("/billing/bill/viewforuser/"+this.props.userId+"/"+this.props.matterId).then(e=>{console.log(e.data.data);let t=[],a=[],l=[],n=[];e.data.data.map((e,s)=>{const r={key:s,_id:e._id,lastSeen:e.lastSeen?e.lastSeen.substring(0,10):"-",status:e.status,dueDate:e.dueDate.substring(0,10),id:e.invoiceId?e.invoiceId:"-",client:e.client?e.client.firstName+" "+e.client.lastName:"-",matter:e.matter?e.matter.matterDescription:"-",issueDate:e.issueDate.substring(0,10),balance:parseFloat(e.balance).toFixed("2")};"Paid"==e.status&&a.push(r),"Unpaid"==e.status&&l.push(r),"draft"==e.status&&n.push(r),t.push(r)}),this.setState({tableData:t,paidBills:a,unpaidBills:l,draftBills:n,loading:!1})})}render(){const e=(e,t)=>{const a=e;delete a.matter,delete a.client,"fromDraft"===t?a.status="Unpaid":"fromUnpaid"===t&&(a.status="Paid"),i.b.post("/billing/bill/edit/"+e._id,a).then(a=>{if(console.log(a),"fromDraft"==t){const t=this.state;t.draftBills.splice(e.key,1),t.unpaidBills.push(a.data.data)}if("fromUnpaid"==t){const t=this.state;t.unpaidBills.splice(e.key,1),t.paidBills.push(a.data.data)}E.a.success({message:"Success"}),setTimeout(()=>{this.componentDidMount()},1e3)}).catch(e=>{console.log(e),E.a.error("Failed")})},t=e=>{i.b.get("/billing/bill/delete/"+e._id).then(e=>{console.log(e),this.componentDidMount(),E.a.success({message:"Bills Deleted !"}),setTimeout(()=>{},1500)}).catch(e=>{E.a.error({message:"Failed to delete"})})},a=[{title:"Action",dataIndex:"action",key:"action",render:(t,a)=>c.a.createElement(h.a,{title:"Approve this draft bill",onConfirm:()=>e(a,"fromDraft"),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(f.a.Check,{type:"checkbox"}))},{title:"Last Seen",dataIndex:"lastSeen",key:"lastSeen"},{title:"Status",dataIndex:"status",key:"status"},{title:"Due Date",dataIndex:"dueDate",key:"dueDate"},{title:"ID",dataIndex:"id",key:"id"},{title:"Client",dataIndex:"client",key:"client"},{title:"Matter",dataIndex:"matter",key:"matter"},{title:"Issue Date",dataIndex:"issueDate",key:"issueDate"},{title:"Balance",dataIndex:"balance",key:"balance"},{title:"Delete",dataIndex:"Delete",key:"Delete",render:(e,a)=>c.a.createElement(h.a,{title:"Are you sure you want to delete this bill ?",onConfirm:()=>t(a),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete"))}],l=[{title:"Action",dataIndex:"action",key:"action",render:(t,a)=>c.a.createElement(h.a,{title:"Mark as Paid",onConfirm:()=>e(a,"fromUnpaid"),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(f.a.Check,{type:"checkbox"}))},{title:"Last Seen",dataIndex:"lastSeen",key:"lastSeen"},{title:"Status",dataIndex:"status",key:"status"},{title:"Due Date",dataIndex:"dueDate",key:"dueDate"},{title:"ID",dataIndex:"id",key:"id"},{title:"Client",dataIndex:"client",key:"client"},{title:"Matter",dataIndex:"matter",key:"matter"},{title:"Issue Date",dataIndex:"issueDate",key:"issueDate"},{title:"Balance",dataIndex:"balance",key:"balance"},{title:"Delete",dataIndex:"Delete",key:"Delete",render:(e,a)=>c.a.createElement(h.a,{title:"Are you sure you want to delete this bill ?",onConfirm:()=>t(a),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete"))}],n=[{title:"Last Seen",dataIndex:"lastSeen",key:"lastSeen"},{title:"Status",dataIndex:"status",key:"status"},{title:"Due Date",dataIndex:"dueDate",key:"dueDate"},{title:"ID",dataIndex:"id",key:"id"},{title:"Client",dataIndex:"client",key:"client"},{title:"Matter",dataIndex:"matter",key:"matter"},{title:"Issue Date",dataIndex:"issueDate",key:"issueDate"},{title:"Balance",dataIndex:"balance",key:"balance"},{title:"Delete",dataIndex:"Delete",key:"Delete",render:(e,a)=>c.a.createElement(h.a,{title:"Are you sure you want to delete this bill ?",onConfirm:()=>t(a),onCancel:this.cancel,okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete"))}];return c.a.createElement(u.a,{size:"large",spinning:this.state.loading},c.a.createElement("div",{className:"p-2 "},c.a.createElement("div",{className:"d-flex mb-2 title-component-header"},c.a.createElement("div",{className:"title-header-name"},c.a.createElement("h5",null,"Billing")),c.a.createElement("div",{className:"d-flex extra-iteam-div"},c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>{const e=new x.a("portrait","pt","A4");e.setFontSize(15);let t=[];this.state.tableData.map((e,a)=>{const l=[e.lastSeen,e.status,e.dueDate,e.id,e.client,e.matter,e.issueDate,e.balance];t.push(l)});let a={startY:50,head:[["Last Seen","Status","Due Date","ID","Client","Matter","Issue Date","Balance"]],body:t};e.text("Bills",40,40),e.autoTable(a),e.save("Bill.pdf")}},"Export to Pdf"),c.a.createElement(se.a,{dataSource:this.state.tableData||[]}),c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:this.props.handleRecordPayment},"Record Payment"),c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:this.props.handleBills},"New Bills"))),c.a.createElement(d.a,null,c.a.createElement(m.a,{defaultActiveKey:"4",onChange:()=>{}},c.a.createElement(re,{tab:"Draft",key:"1"},c.a.createElement(C.a,{className:"table-responsive",dataSource:this.state.draftBills,columns:a})),c.a.createElement(re,{tab:"All",key:"4"},c.a.createElement(C.a,{className:"table-responsive",dataSource:this.state.tableData,columns:n})),c.a.createElement(re,{tab:"Unpaid",key:"3"},c.a.createElement(C.a,{className:"table-responsive",dataSource:this.state.unpaidBills,columns:l})),c.a.createElement(re,{tab:"Paid",key:"2"},c.a.createElement(C.a,{className:"table-responsive",dataSource:this.state.paidBills,columns:n}))))))}}var ce=Object(D.b)(e=>({userId:e.user.token.user._id}))(oe),ie=a(1),me=a(467),de=a(992),ue=a(998),pe=a(613),he=a(620),Ee=a(1008),be=a(1010),ge=a(1007),ye=a(237),fe=a.n(ye);a(33);const Ce=me.a.Option,De=m.a.TabPane;var ke=e=>{const t=Object(o.useState)([]),a=Object(r.a)(t,2),l=a[0],d=a[1],g=Object(D.d)(e=>e.user.token.user._id),y=Object(o.useState)(!1),f=Object(r.a)(y,2),k=(f[0],f[1],Object(o.useState)([])),x=Object(r.a)(k,2),v=(x[0],x[1],Object(o.useState)({name:"",userId:"",documents:[]})),S=Object(r.a)(v,2),N=(S[0],S[1],Object(o.useState)([])),I=Object(r.a)(N,2),T=(I[0],I[1]),j=Object(o.useState)(!1),O=Object(r.a)(j,2),w=(O[0],O[1]),M=Object(o.useState)({name:"",userId:g,document:"",category:""}),F=Object(r.a)(M,2),L=(F[0],F[1]),G=Object(o.useState)(!1),P=Object(r.a)(G,2),A=P[0],_=P[1],B=Object(o.useState)(!1),q=Object(r.a)(B,2),Y=q[0],U=q[1],V=Object(o.useState)("Document"),H=Object(r.a)(V,2),R=(H[0],H[1],Object(o.useState)(!0)),z=Object(r.a)(R,2),W=z[0],K=z[1],Q=Object(o.useState)({name:"",userId:g}),J=Object(r.a)(Q,2),$=J[0],X=J[1],Z=Object(o.useState)(!1),ee=Object(r.a)(Z,2),te=(ee[0],ee[1],Object(o.useState)({document:"",_id:"",name:"",matter:"",contact:"",category:"",userId:g})),ae=Object(r.a)(te,2),le=(ae[0],ae[1],Object(o.useState)([])),ne=Object(r.a)(le,2),se=ne[0],re=ne[1],oe=Object(o.useState)(!1),ce=Object(r.a)(oe,2),ye=ce[0],ke=ce[1],xe=Object(o.useState)({document:"",_id:"",name:"",matter:"",contact:"",category:""}),ve=Object(r.a)(xe,2),Se=ve[0],Ne=ve[1],Ie=Object(o.useState)("Upload"),Te=Object(r.a)(Ie,2),je=Te[0],Oe=Te[1],we=Object(o.useState)([]),Me=Object(r.a)(we,2),Fe=Me[0],Le=Me[1],Ge=Object(o.useState)([]),Pe=Object(r.a)(Ge,2),Ae=Pe[0],_e=Pe[1],Be=Object(o.useState)(""),qe=Object(r.a)(Be,2),Ye=qe[0],Ue=qe[1],Ve=Object(o.useState)([]),He=Object(r.a)(Ve,2),Re=He[0],ze=He[1],We=Object(o.useState)(!1),Ke=Object(r.a)(We,2),Qe=Ke[0],Je=Ke[1],$e=Object(o.useState)(""),Xe=Object(r.a)($e,2),Ze=(Xe[0],Xe[1],Object(o.useState)([])),et=Object(r.a)(Ze,2),tt=(et[0],et[1],Object(o.useState)(!1)),at=Object(r.a)(tt,2),lt=(at[0],at[1],[{title:"Type",dataIndex:"type",key:"0"},{title:c.a.createElement("div",null,c.a.createElement(ge.a,{style:{"vertical-align":"revert"},onClick:()=>{Je(!1===Qe)}}),c.a.createElement("span",{style:{paddingLeft:"8px"}}," Name "),Qe&&c.a.createElement("div",{style:{paddingTop:"10px"}},c.a.createElement("input",{placeholder:"Search",value:Ye,onChange:e=>{let t;Ue(e.target.value),0!==e.target.value.length||""===e.target.value?(t=l.filter(t=>t.name.toLowerCase().includes(e.target.value.toLowerCase())),ze(t)):ze(l)}}))),dataIndex:"name",key:"1",render:e=>c.a.createElement(fe.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[Ye],autoEscape:!0,textToHighlight:e?e.toString():""})},{title:"Matter",dataIndex:"matter",key:"2"},{title:"Category",dataIndex:"category",key:"3"},{title:"Received Date",dataIndex:"receivedDate",key:"4",sortDirections:["descend","ascend"],sorter:(e,t)=>e.receivedDate>t.receivedDate},{title:"Last Edit",dataIndex:"lastEdit",key:"5",sortDirections:["descend","ascend"],sorter:(e,t)=>e.lastEdit>t.lastEdit},{title:"Edit",dataIndex:"edit",key:"6",render:(e,t)=>c.a.createElement(p.a,{className:"btn-outline-info ",onClick:()=>{it(t._id)}},"Edit")},{title:"Delete",dataIndex:"delete",key:"7",render:(e,t)=>c.a.createElement(h.a,{title:"Are you sure delete this Document?",onConfirm:()=>ct(t._id),onCancel:()=>{},okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{className:" btn-outline-danger "},"Delete"))},{title:"Download",dataIndex:"download",key:"8",render:(e,t)=>c.a.createElement(p.a,{className:"btn-outline-primary ",onClick:()=>{ot(t)},icon:c.a.createElement(Ee.a,null)},"Download")}]),nt=e=>t=>{console.log(e),console.log(t),"document"===e?(t.persist(),Ne(Object(ie.a)(Object(ie.a)({},Se),{},{document:t.target.files[0]}))):"category"===e?(Se["".concat(e)]=t,Ne(Object(ie.a)({},Se))):"matter"===e?"Upload"===je?(console.log("from the uploads"),Se["".concat(e)]=t,Ne(Object(ie.a)({},Se)),ft(t)):(console.log("from the edits"),i.b.get("/matter/view/".concat(t)).then(a=>{Se["".concat(e)]=a.data.data,Ne(Object(ie.a)({},Se)),ft(t)})):(Se["".concat(e)]=t.target.value,Ne(Object(ie.a)({},Se))),console.log(Se)},st=function(){var t=Object(s.a)(n.a.mark((function t(){var a,l;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],l=[],t.next=4,i.b.get("/document/viewformatter/".concat(e.userId,"/").concat(e.matterId)).then(e=>{console.log(e.data.data),e.data.data.map((e,t)=>{if(void 0==e.matter){const a={_id:e._id,key:t,document:e.document,category:e.category,name:e.name};l.push(a)}else"folder"!=e.type&&(a=[...a,Object(ie.a)(Object(ie.a)({},e),{},{type:"File",key:e._id,matter:null!==e.matter?e.matter.matterDescription:"-",receivedDate:yt(e.receivedDate),lastEdit:yt(e.lastEdit)})])})});case 4:return d(a),T(l),K(!1),a=[],t.next=10,i.b.get("/matter/viewforuser/".concat(g)).then(e=>{e.data.data.map(e=>{a=[...a,Object(ie.a)(Object(ie.a)({},e),{},{key:e._id,client:null===e.client?{_id:"",updated_at:"",created_at:"-",userId:"-",title:"-",lastName:"-",firstName:"",__v:0,image:"",customFields:[{Email:"-"}],address:[],website:[],phone:[],emailAddress:[],company:["-"]}:e.client})]})});case 10:Le(a);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),rt=function(){var e=Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===Se.category?E.a.warning({message:"Please provide a category."}):""===Se.contact?E.a.warning({message:"Please provide a contact."}):""===Se.document?E.a.warning({message:"Please provide a document."}):""===Se.matter?E.a.warning({message:"Please provide a matter."}):""===Se.name?E.a.warning({message:"Please provide a name."}):(_(!0),(t=new FormData).set("document",Se.document),t.set("name",Se.name),t.set("matter",Se.matter),t.set("contact",Se.contact),t.set("category",Se.category),t.set("userId",g),console.log(t),i.b.post("/document/upload/934894383948u43",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){E.a.success({message:"Document Uploaded."}),st()})).catch((function(e){E.a.error({message:"Document Upload Failed."})})),setTimeout(()=>{U(!1),_(!1)},600));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open(t.document);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.get("/document/delete/".concat(t)).then(e=>{console.log(e),E.a.success({message:"Document Deleted SuccessFully."}),st()}).catch(e=>{E.a.error({message:"Document Deletion Failed."})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe("Edit"),U(!0),e.next=4,i.b.get("/document/view/".concat(t)).then(e=>{Ne(e.data.data),console.log(Se)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==Se.category){e.next=4;break}E.a.warning({message:"Please provide a category."}),e.next=29;break;case 4:if(""!==Se.contact){e.next=8;break}E.a.warning({message:"Please provide a contact."}),e.next=29;break;case 8:if(""!==Se.document){e.next=12;break}E.a.warning({message:"Please provide a document."}),e.next=29;break;case 12:if(""!==Se.matter){e.next=16;break}E.a.warning({message:"Please provide a matter."}),e.next=29;break;case 16:if(""!==Se.name){e.next=20;break}E.a.warning({message:"Please provide a name."}),e.next=29;break;case 20:return _(!0),(t=new FormData).set("document",Se.document),t.set("userId",g),i.b.post("/document/edit/".concat(Se._id),t,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{console.log(e)}),a={_id:Se._id,name:Se.name,matter:Se.matter,contact:Se.contact,category:Se.category},e.next=28,i.b.post("/document/edit/".concat(Se._id),a).then((function(e){console.log(e),E.a.success({message:"Document edited."}),st()})).catch((function(e){console.log(e),E.a.error({message:"Document Upload Failed."})}));case 28:setTimeout(()=>{_(!1),U(!1)},600);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=[{title:"Category Name",dataIndex:"name",key:"1"},{title:"Edit",dataIndex:"edit",key:"6",render:(e,t)=>c.a.createElement(p.a,{className:"btn-outline-info ",onClick:()=>{pt(t)}},"Edit")},{title:"Delete",dataIndex:"delete",key:"7",render:(e,t)=>c.a.createElement(h.a,{title:"Are you sure delete this Catagory?",onConfirm:()=>ut(t._id),onCancel:()=>{},okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{className:" btn-outline-danger "},"Delete"))}],ut=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.get("/document/category/delete/".concat(t)).then(e=>{E.a.success({message:"Catagory Deleted SuccessFully."}),ht()}).catch(e=>{E.a.error({message:"Catagory Deletion Failed."})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=e=>{Oe("Edit"),ke(!0),X(e)},ht=()=>{let e=[];i.b.get("/document/category/viewforuser/".concat(g)).then(t=>{_e(t.data.data),console.log(t),t.data.data.map((t,a)=>{const l={name:t.name,key:a,_id:t._id,userId:g};e.push(l)}),re(e)})},Et=()=>{""===$.name?E.a.warning({message:"Please provide a name."}):(_(!0),console.log($),i.b.post("/document/category/create/",$).then((function(e){console.log(e),ht(),E.a.success({message:"Category created."})})).catch((function(e){E.a.error({message:"Failed."})})),setTimeout(()=>{ke(!1),_(!1)},600))},bt=()=>{""===$.name?E.a.warning({message:"Please provide a name."}):(_(!0),console.log($),i.b.post("/document/category/edit/"+$._id,$).then((function(e){console.log(e),ht(),E.a.success({message:"Category Edited."})})).catch((function(e){E.a.error({message:"Failed."})})),setTimeout(()=>{ke(!1),_(!1),console.log(se)},600))},gt={labelCol:{span:8},wrapperCol:{span:16}},yt=e=>new Date(e).toLocaleString(),ft=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.get("/matter/view/".concat(t)).then(e=>{let t=null!==e.data.data.client?e.data.data.client._id:"-";Ne(Object(ie.a)(Object(ie.a)({},Se),{},{contact:t}))});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)(()=>{st(),ht()},[]);const Ct=c.a.createElement(pe.a,null,c.a.createElement(pe.a.Item,{onClick:()=>{Ne({document:"",_id:"",name:"",matter:"",category:""}),U(!0),Oe("Upload")},key:"0"},c.a.createElement("span",null,"Upload File"))),Dt=c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(he.a,{overlay:Ct,trigger:["click"]},c.a.createElement(p.a,{className:"ant-dropdown-link",onClick:e=>e.preventDefault()},"Upload ",c.a.createElement(be.a,null)))),kt=c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(p.a,{onClick:()=>ke(!0)},"Add Category")),xt=c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(p.a,{onClick:()=>{L({document:"",name:"",userId:g,category:""}),w(!0),Oe("Upload")}},"Upload")),vt=Object(o.useState)(Dt),St=Object(r.a)(vt,2),Nt=St[0],It=St[1];return c.a.createElement(u.a,{size:"large",spinning:W},c.a.createElement(m.a,{defaultActiveKey:"1",tabBarExtraContent:Nt,onChange:e=>{console.log(e),1==e?It(Dt):2==e&&It(kt),3==e&&It(xt)},className:"card p-4 overflow-auto"},c.a.createElement(De,{tab:"Document",key:"1"},c.a.createElement(b.a,{title:" ".concat(je," Document"),visible:Y,onCancel:()=>U(!1),footer:[c.a.createElement(p.a,{key:"back",onClick:()=>U(!1)},"Cancel"),c.a.createElement(p.a,{key:"submit",type:"primary",htmlType:"submit",disabled:A,onClick:"Upload"===je?rt:mt},"Submit")]},c.a.createElement(de.a,Object.assign({},gt,{name:"basic",fields:[{name:["name"],value:Se.name},{name:["category"],value:Se.category},{name:["matter"],value:"Edit"===je?Se.matter._id:Se.matter},{name:["document"]}]}),c.a.createElement(de.a.Item,{key:"name",label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}]},c.a.createElement(ue.a,{onChange:nt("name"),value:Se.name})),c.a.createElement(de.a.Item,{key:"matter",label:"Matter",name:"matter",rules:[{required:!0,message:"Please input matter"}]},c.a.createElement(me.a,{showSearch:!0,style:{width:200},placeholder:"Select a Matter",optionFilterProp:"children",onChange:nt("matter"),filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0},Fe.map((e,t)=>c.a.createElement(Ce,{key:t,value:e._id},e.matterDescription)))),c.a.createElement(de.a.Item,{key:"category",label:"Category",name:"category",rules:[{required:!0,message:"Please input category"}]},c.a.createElement(me.a,{showSearch:!0,style:{width:200},placeholder:"Select a Catagory",optionFilterProp:"children",onChange:nt("category"),filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0},Ae.map((e,t)=>c.a.createElement(Ce,{key:t,value:e.name},e.name)))),c.a.createElement(de.a.Item,{key:"document",label:"Document",name:"document",rules:[{required:!0,message:"Please input your File!"}]},c.a.createElement(ue.a,{type:"file",onChange:nt("document")})))),c.a.createElement(C.a,{className:"table-responsive",dataSource:0===Re.length&&""===Ye?l:Re,columns:lt})),c.a.createElement(De,{tab:"Category",key:"2"},(()=>{return c.a.createElement(b.a,{title:" ".concat(je," Catagory"),visible:ye,onCancel:()=>ke(!1),footer:[c.a.createElement(p.a,{key:"back",onClick:()=>ke(!1)},"Cancel"),c.a.createElement(p.a,{key:"submit",type:"primary",htmlType:"submit",disabled:A,onClick:"Upload"===je?Et:bt},"Submit")]},c.a.createElement(de.a,Object.assign({},gt,{name:"basic",fields:[{name:["name"],value:$.name}]}),c.a.createElement(de.a.Item,{key:"name",label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}]},c.a.createElement(ue.a,{onChange:(e="name",t=>{console.log("chnage"),console.log(e),console.log(t),$["".concat(e)]=t.target.value,X(Object(ie.a)({},$)),console.log($)}),value:$.name}))));var e})(),c.a.createElement(C.a,{className:"table-responsive",dataSource:se,columns:dt}))))},xe=a(991),ve=a(968),Se=a(320),Ne=a(969),Ie=a(970),Te=a(971),je=a(972),Oe=a(1015),we=(a(381),a(382),a(383),a(384),a(385),a(386),a(387),a(388),a(389),a(390),a(330));a(218);p.a;var Me=e=>{const t=Object(o.useRef)(),a=Object(o.useRef)();let l={},m={};const u=Object(o.useState)([]),p=Object(r.a)(u,2),h=p[0],b=p[1],g=(Object(D.c)(),Object(D.d)(e=>e.user.token.user._id)),y=Object(o.useState)(""),f=Object(r.a)(y,2);f[0],f[1];let C="",k="";const x=Object(o.useState)({tableData:[]}),v=Object(r.a)(x,2),S=v[0],N=v[1],I=Object(o.useState)({email:!1,notification:!1,startTime:"",title:""}),T=Object(r.a)(I,2),j=T[0],O=T[1],w=Object(o.useState)([]),M=Object(r.a)(w,2),F=M[0],L=M[1];function G(){return P.apply(this,arguments)}function P(){return(P=Object(s.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.matterId),t.next=3,i.b.get("/calendar/fetchformatter/"+e.matterId);case 3:return l=t.sent,console.log(l),t.next=7,i.b.get("matter/viewforuser/"+g);case 7:m=t.sent,L(l.data.data),b(m.data.data),A();case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(o.useEffect)(()=>{G()},[]);const A=()=>{let e=[];l.data.data.map(function(){var t=Object(s.a)(n.a.mark((function t(a,l){var s,r,o,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s="",void 0!=a.matter&&(s=a.matter.matterDescription),r=!1,"allday"===a.type&&(r=!0),o=!1,"repeat"===a.type&&(o=!0),c={id:a._id,Subject:a.title,StartTime:a.startTime,EndTime:a.endTime,Location:a.location,Description:a.description,TimeForReminder:a.timeForReminder,Matter:s,Email:a.email,Notification:a.notification,Allday:r,Repeat:o},e.push(c);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),N({tableData:e})};const _=e=>{e.persist();const t=e.target,a=t.value,l=t.id;let n=j;"allday"===l||"repeat"===l?"on"===a&&(n.type=l):"email"===l||"notification"===l?n[l]=!n[l]:(n[l]=a,O(n)),console.log(j)},B=e=>{const t=e.element,a=t.value,l=t.id;let n=j;"startTime"===l&&(C=a),"endTime"===l&&(k=a),"matter"===l&&null!=e.itemData?n[l]=h[e.itemData.value]._id:(n[l]=a,O(n)),console.log(j)},q=e=>{if(void 0!=e.StartTime&&"Invalid Date"!=e.StartTime){const t=e;C=t.StartTime,k=t.EndTime;let a=C.getDate(),l=C.getMonth()+1,n=C.getFullYear(),s=C.getHours(),r=C.getMinutes();r=r<10?"0"+r:r;let o=k.getDate(),c=k.getMonth()+1,i=k.getFullYear(),m=k.getHours(),d=k.getMinutes();d=d<10?"0"+d:d,C=l+"/"+a+"/"+n+", "+s+":"+r+":00 ",k=c+"/"+o+"/"+i+", "+m+":"+d+":00 "}},Y=()=>{E.a.destroy();let e=j;e.userId=g,"Invalid Date"!==C&&(e.startTime=C,e.endTime=k),console.log(e),""===e.title?E.a.warning({message:"Please provide a title"}):i.b.post("/calendar/create",e).then(e=>{console.log(e),G(),E.a.success({message:"Evented Added"});O({}),t.current.openEditor({Id:"",Subject:"",StartTime:"",EndTime:""},"Add")}).catch(e=>{console.log(e),E.a.error({message:"Failed!"})})};return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-8"},c.a.createElement(d.a,{bodyStyle:{padding:"0px"}},c.a.createElement(xe.a,{height:"550px",actionComplete:e=>{if(console.log(e.requestType),"eventRemoved"===e.requestType){const t=e.data[0].id;i.b.get("/calendar/delete/"+t).then(()=>{var e;G(),e="success",E.a[e]({message:"Success"})}).catch(()=>{return e="error",void E.a[e]({message:"Failure"});var e}),setTimeout(()=>{},1500)}if("eventChanged"===e.requestType){let t=j,a=e.changedRecords[0].id;t.userId=g,t.startTime=C,t.endTime=k,i.b.post("/calendar/update/"+a,t).then(e=>{G(),E.a.success({message:"Event Edited"})}).catch(e=>{console.log(e),E.a.error({message:"Failed"})}),O({}),setTimeout(()=>{},1500)}if("eventCreated"===e.requestType){let e=j;e.userId=g,"Invalid Date"!==C&&(e.startTime=C,e.endTime=k),console.log(j),""==j.title||void 0==j.title?E.a.warning({message:"Please provide a title"}):(console.log(e),i.b.post("/calendar/create",e).then(e=>{console.log(e),G(),E.a.success({message:"Evented Added"})}).catch(e=>{console.log(e),E.a.error({message:"Failed!"})}),O({}),setTimeout(()=>{},1500))}},ref:e=>t.current=e,showQuickInfo:!1,popupOpen:function(e){"Editor"===e.type&&(t.current.eventWindow.recurrenceEditor=a.current)},eventSettings:{dataSource:S.tableData},editorTemplate:e=>c.a.createElement(we.a,Object.assign({},e,{onClickButton2:Y,setInit:q(e),userId:g,setInit:q,handleChange:_,DateTimeChange:B,setRecurrenceRef:e=>a.current=e}))},c.a.createElement(ve.b,null,c.a.createElement(ve.a,{option:"Day"}),c.a.createElement(ve.a,{option:"Week"}),c.a.createElement(ve.a,{option:"WorkWeek"}),c.a.createElement(ve.a,{option:"Month"})),c.a.createElement(Se.c,{services:[Ne.a,Ie.a,Te.a,je.a,Oe.a],currentView:"Month"})))),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{title:"Events",style:{height:"550px"},className:"overflow-auto",bodyStyle:{padding:"15px"}},F.map(e=>c.a.createElement("div",{key:e._id,style:{"border-bottom":"1px solid #e5e5e5"},className:"pb-2 mb-2"},c.a.createElement("span",{style:{"font-size":"18px",color:"#3f51b5"}},c.a.createElement("b",null,e.title)),c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("span",{style:{"padding-right":"5%","border-right":"1px solid #e5e5e5"}},c.a.createElement("span",null,c.a.createElement("b",null,e.startTime)),c.a.createElement("br",null),c.a.createElement("span",{style:{"font-size":"11px"}},"(Starting Date & Time)")),c.a.createElement("span",null,c.a.createElement("span",null,c.a.createElement("b",null,e.endTime)),c.a.createElement("br",null),c.a.createElement("span",{style:{"font-size":"11px"}},"(Ending Date & Time)"))))))))};class Fe extends o.Component{constructor(e){super(e),console.log("data in excel",e.dataSource)}render(){return c.a.createElement("div",null,c.a.createElement("table",{id:"emp",className:"d-none"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Hours"),c.a.createElement("th",null,"Subject"),c.a.createElement("th",null,"Note"),c.a.createElement("th",null,"Date"))),c.a.createElement("tbody",null,this.props.dataSource.map((e,t)=>c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.hours),c.a.createElement("td",null,e.subject),c.a.createElement("td",null,e.notes),c.a.createElement("td",null,e.date))))),c.a.createElement(I.a,{className:"btn btn-outline-primary btn-sm ml-auto",table:"emp",filename:"Notes",sheet:"Sheet",buttonText:"Export to Excel"}))}}var Le=Fe;var Ge=e=>{const t=Object(o.useState)(!1),a=Object(r.a)(t,2),l=a[0],n=a[1],s=Object(o.useState)(!0),m=Object(r.a)(s,2),g=m[0],y=m[1],k=Object(o.useState)({}),v=Object(r.a)(k,2),N=v[0],I=v[1],T=Object(o.useState)(!1),j=Object(r.a)(T,2),O=j[0],w=j[1],M=Object(D.d)(e=>e.user.token.user._id),F=Object(o.useState)([]),L=Object(r.a)(F,2),G=L[0],P=L[1],A=Object(o.useState)(!1),_=Object(r.a)(A,2),B=_[0],q=_[1],Y=Object(o.useState)({}),U=Object(r.a)(Y,2),V=U[0],H=U[1],R=Object(o.useState)(!1),z=Object(r.a)(R,2),W=z[0],K=z[1],Q=Object(o.useRef)(null);let J="";const $=()=>{i.b.get("/notes/viewformatter/"+M+"/"+e.id).then(e=>{console.log(e);let t=[];e.data.data.map((e,a)=>{const l={_id:e._id,key:a,notes:e.notes,subject:e.subject,hours:e.hours?e.hours:"-",date:e.date?e.date.substring(0,10):"-"};t.push(l)}),P(t),y(!1)})};Object(o.useEffect)(()=>{$()},[]);const X=t=>{t.persist(),E.a.destroy();let a=!0;if(""!==J?(a=!1,E.a.error({message:"Invalid time, Please enter time in the format : HH:MM:SS"})):""===N.subject||void 0===N.subject?(a=!1,E.a.warning({message:"Please provide a Subject"})):""!==N.notes&&void 0!==N.notes||(a=!1,E.a.warning({message:"Please provide a Note"})),a){w(!0);let t=N;t.userId=M,t.matter=e.id,B?i.b.post("/notes/edit/"+V._id,t).then(e=>{console.log(e),$(),E.a.success({message:"Note Edited."})}).catch(e=>{E.a.error({message:"Failure"})}).then(()=>{S.a.findDOMNode(Q.current).reset(),q(!1),K(!1),I({}),H({}),w(!1)}):i.b.post("/notes/create",t).then(e=>{console.log(e),$(),E.a.success({message:"Note created."})}).catch(e=>{E.a.error({message:"Failure"})}).then(()=>{S.a.findDOMNode(Q.current).reset(),n(!1),I({}),H({}),w(!1)})}},Z=e=>{q(!1),K(!1),n(!1),S.a.findDOMNode(Q.current).reset()},ee=[{title:"Hours",dataIndex:"hours",key:"1"},{title:"Date",dataIndex:"date",key:"2"},{title:"Subject",dataIndex:"subject",key:"3"},{title:"Note",dataIndex:"notes",key:"4"},{title:"Edit",dataIndex:"edit",key:"5",render:(e,t)=>c.a.createElement(p.a,{onClick:()=>(e=>{q(!0),K(!0),H(e),I(e),console.log(e)})(t)},"Edit")},{title:"Delete",dataIndex:"delete",key:"5",render:(e,t)=>c.a.createElement(h.a,{title:"Are you sure delete this Note?",onConfirm:()=>(e=>{i.b.get("/notes/delete/"+e._id).then(e=>{console.log(e),$(),E.a.success({message:"Note Deleted !"})}).catch(e=>{E.a.error({message:"Failed to delete"})})})(t),okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete"))}],te=e=>{e.persist();const t=e.target,a=t.name,l=(t.id,t.value);t.selectedIndex;let n=N;if("hours"===a){J="";var s=l;if(""==s||s.indexOf(":")<0)J="Inavlid Time",console.log(J);else{var r=s.split(":")[0],o=s.split(":")[1],c=s.split(":")[2];console.log(c),""==r||isNaN(r)?(J="Inavlid Time",console.log(J)):0==parseInt(r)&&(r="00"),""==o||isNaN(o)||parseInt(o)>59?(J="Inavlid Time",console.log(J)):0==parseInt(o)&&(o="00"),""==c||isNaN(c)?(J="Inavlid Time",console.log(J)):0==parseInt(c)&&(c="00"),s=r+":"+o+":"+c}n[a]=s}else n[a]=l;I(n),console.log(N)};return c.a.createElement(u.a,{spinning:g,size:"large"},c.a.createElement("div",null,c.a.createElement(d.a,{title:"Notes",className:"mb-4",extra:c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("button",{className:"ml-auto btn  btn-outline-primary   btn-sm",onClick:()=>{if(0==G.length)E.a.warning({message:"Please add notes before exporting"});else{const e="pt",t="A4",a="portrait",l=40,n=new x.a(a,e,t);n.setFontSize(15);const s="Notes",r=[["Hours","Subject","Note","Date"]];let o=[];G.map((e,t)=>{const a=[e.hours,e.subject,e.notes,e.date];o.push(a)});let c={startY:50,head:r,body:o};n.text(s,l,40),n.autoTable(c),n.save("notes.pdf")}}},"Export to Pdf"),c.a.createElement(Le,{dataSource:G||[]}),c.a.createElement("button",{className:"ml-auto btn  btn-outline-primary   btn-sm",onClick:()=>n(!0)},"Add Notes"))},c.a.createElement(C.a,{className:"table-responsive",dataSource:G,columns:ee})),c.a.createElement(b.a,{title:"New Note",visible:l,onOk:X,onCancel:Z,footer:[c.a.createElement(p.a,{onClick:Z},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:O,onClick:X},"Create")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:Q,className:"form-details"},c.a.createElement(f.a.Group,{controlId:"duration"},c.a.createElement(f.a.Label,null,"Hours"),c.a.createElement(f.a.Control,{type:"text",name:"hours",placeholder:"hh:mm:ss",onChange:te})),c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Subject"),c.a.createElement(f.a.Control,{name:"subject",type:"text",placeholder:"Subject",onChange:te})),c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Note"),c.a.createElement(f.a.Control,{name:"notes",as:"textarea",rows:"4",placeholder:"Note",onChange:te})),c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{name:"date",type:"date",onChange:te})))),c.a.createElement(b.a,{title:"Edit Note",visible:W,onOk:X,onCancel:Z,footer:[c.a.createElement(p.a,{onClick:Z},"Cancel"),c.a.createElement(p.a,{type:"primary",disabled:O,onClick:X},"Save")]},c.a.createElement(f.a,{id:"myForm",className:"form",ref:Q,className:"form-details"},c.a.createElement(f.a.Group,{controlId:"duration"},c.a.createElement(f.a.Label,null,"Duration"),c.a.createElement(f.a.Control,{type:"text",name:"hours",defaultValue:V.hours,onChange:te})),c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Subject"),c.a.createElement(f.a.Control,{name:"subject",type:"text",defaultValue:V.subject,onChange:te})),c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Note"),c.a.createElement(f.a.Control,{name:"notes",as:"textarea",rows:"4",defaultValue:V.notes,onChange:te})),c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Date"),c.a.createElement(f.a.Control,{name:"date",type:"date",defaultValue:V.date,onChange:te}))))))};const Pe=m.a.TabPane;t.default=function(e){let t={};const a=Object(o.useState)(""),l=Object(r.a)(a,2),C=l[0],D=l[1],k=Object(o.useState)("1"),x=Object(r.a)(k,2),v=x[0],S=x[1],N=Object(o.useState)(""),I=Object(r.a)(N,2),T=(I[0],I[1],Object(o.useState)(!0)),j=Object(r.a)(T,2),O=j[0],w=j[1],M=Object(o.useState)("0"),F=Object(r.a)(M,2),L=F[0],G=F[1],P=Object(o.useState)(""),A=Object(r.a)(P,2),_=A[0],B=A[1],q=Object(o.useState)("0"),Y=Object(r.a)(q,2),V=(Y[0],Y[1]),H=Object(o.useState)({visible:!1}),R=Object(r.a)(H,2),z=R[0],W=R[1],K=Object(o.useState)([]),J=Object(r.a)(K,2),$=J[0],X=J[1],Z=Object(o.useState)([]),ee=Object(r.a)(Z,2),te=(ee[0],ee[1]),ae=Object(o.useState)(),le=Object(r.a)(ae,2),se=le[0],re=le[1],oe=Object(o.useState)(),ie=Object(r.a)(oe,2),me=(ie[0],ie[1],Object(o.useState)()),de=Object(r.a)(me,2),ue=de[0],pe=de[1],he=Object(o.useState)(),Ee=Object(r.a)(he,2),be=(Ee[0],Ee[1]),ge=Object(o.useState)(),ye=Object(r.a)(ge,2),fe=(ye[0],ye[1],Object(o.useState)()),Ce=Object(r.a)(fe,2),De=Ce[0],xe=Ce[1],ve=Object(o.useState)(),Se=Object(r.a)(ve,2),Ne=Se[0],Ie=Se[1],Te=Object(o.useState)(0),je=Object(r.a)(Te,2),Oe=je[0],we=je[1];console.log(e.location.state),Object(o.useEffect)(()=>{function a(){return(a=Object(s.a)(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.b.get("/matter/view/"+e.location.state.id).then(e=>{t=e.data,t.data.client=null===t.data.client?{_id:"",updated_at:"",created_at:"-",userId:"-",title:"-",lastName:"-",firstName:"",__v:0,image:"",customFields:[{Email:"-"}],address:[],website:[],phone:[],emailAddress:[],company:["-"]}:t.data.client,D(e.data.data.matterDescription),B(e.data.data.client.firstName+" "+e.data.data.client.lastName)});case 2:Fe();case 3:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}(),i.b.get("/billing/bill/viewforuser/"+e.location.state.userId+"/"+e.location.state.id).then(e=>{console.log(e);let t=0;e.data.data.map((e,a)=>{"Unpaid"===e.status&&(t+=parseFloat(e.balance).toFixed("2"))}),console.log(t),we(t)})},[]),Object(o.useEffect)(()=>{i.b.get("/activity/viewformatter/"+e.location.state.userId+"/"+e.location.state.id).then(e=>{let t=[],a=0;e.data.data.map((e,l)=>{let n=e.rate;if(n.includes("$")&&(n=parseFloat(n.substring(0,n.length-1))),"time"===e.type&&void 0!=e.time){console.log(n);const t=parseInt(e.time.split(":")[0]),l=parseInt(e.time.split(":")[1]),s=parseFloat(e.time.split(":")[2]);console.log(t+"  "+l),a=a+n*t+n/60*l+n/3600*s}"expense"===e.type&&(a+=n*parseInt(e.qty)),t.push(e)}),console.log("activiviviviv",t),te(t),G(a)})},[]);const Fe=()=>{const e=window.localStorage.getItem("total");V(e);let a=[];t.data.relatedContacts.map(function(){var e=Object(s.a)(n.a.mark((function e(l,s){var r,o,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(l.contact),e.next=3,i.b.get("/contact/view/"+l.contact);case 3:r=e.sent,console.log(r.data),o=t.data.client.emailAddress.map((e,t)=>c.a.createElement("div",{className:"table-span-light",key:t},c.a.createElement("p",null,e.emailAddress))),m=t.data.client.phone.map((e,t)=>c.a.createElement("div",{className:"table-span-light",key:t},c.a.createElement("p",null,e.number))),a.push(c.a.createElement(d.a,{title:"Related Contact",className:"form-width mb-4"},c.a.createElement("table",{class:"table table-borderless table-responsive"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-dark"},"Client")),c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-light"},r.data.data.firstName+r.data.data.lastName))),c.a.createElement("tr",null,c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-dark"},"Phone")),c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-light"},m))),c.a.createElement("tr",null,c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-dark"},"Email")),c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-light"},o))))))),X(a),console.log($);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());const l=t.data.client.address.map((e,a)=>c.a.createElement("div",{className:"table-span-light",key:a},c.a.createElement("p",null,e.street),console.log("data",t.data),c.a.createElement("p",null,e.city),c.a.createElement("p",null,e.state),c.a.createElement("p",null,e.zipCode),c.a.createElement("p",null,e.country),c.a.createElement("p",null,e.type))),r=t.data.client.emailAddress.map((e,t)=>c.a.createElement("div",{className:"table-span-light",key:t},c.a.createElement("p",null,e.emailType," : ",e.emailAddress))),o=t.data.client.phone.map((e,t)=>c.a.createElement("div",{className:"table-span-light",key:t},c.a.createElement("p",null,console.log(e),e.phoneType," : ",e.phone))),m=t.data.client.firstName+" "+t.data.client.lastName,u=t.data.client._id;re(l),be(u),pe(m),xe(r),Ie(o),w(!1)};return c.a.createElement(u.a,{size:"large",spinning:O},c.a.createElement("div",null,c.a.createElement(d.a,null,c.a.createElement(g.a,null,c.a.createElement(y.a,{sm:!0,className:"pb-2"},c.a.createElement("h4",null,_),c.a.createElement("p",null,C)),c.a.createElement(y.a,{sm:!0},c.a.createElement("div",null,c.a.createElement(p.a,{className:"mr-2",onClick:()=>e.history.push("/edit/matter",e.location.state.id)},"Edit"),c.a.createElement(h.a,{title:"Are you sure you want to delete this Matter?",onConfirm:()=>i.b.get("/matter/delete/"+e.location.state.id).then(()=>{E.a.success({message:"Matter deleted."}),e.history.push("/manage/matter",e.location.state.id)}).catch(()=>E.a.error({message:"Failed to delete"})),onCancel:()=>{},okText:"Yes",cancelText:"No"},c.a.createElement(p.a,{danger:!0},"Delete")))))),c.a.createElement(m.a,{activeKey:v,onChange:function(e){console.log(e),S(e)}},c.a.createElement(Pe,{tab:"Dashboard",key:"1",style:{padding:"0px"}},c.a.createElement(d.a,{bodyStyle:{padding:"0px"},title:"Financial",extra:c.a.createElement("div",null,c.a.createElement(p.a,{type:"link",onClick:()=>{S("2")}},"Add expense/time entry"),c.a.createElement(p.a,{type:"link",onClick:()=>{S("9")}},"View Bills"),c.a.createElement(p.a,{type:"link",onClick:()=>{console.log(e.location.state.id),e.history.push("/view/matter/bills",e.location.state.id)}},"Quick Bills")),className:"form-width mb-4"},c.a.createElement("div",{className:"text-center pt-2"},c.a.createElement("div",{class:"d-flex py-2 mt-2 matter-amount"},c.a.createElement("div",{style:{flex:1,"border-right":"2px solid #B2E4D6"}},c.a.createElement("p",{style:{fontSize:"13px"}},c.a.createElement("b",null,"Work in progress amount")),c.a.createElement("span",null,parseFloat(L).toFixed("2"))),c.a.createElement("div",{style:{flex:1,"border-right":"2px solid #B2E4D6"}},c.a.createElement("p",{style:{fontSize:"13px"}},c.a.createElement("b",null,"Trust Funds")),c.a.createElement("span",null,"$0.00")),c.a.createElement("div",{style:{flex:1}},c.a.createElement("p",{style:{fontSize:"13px"}},c.a.createElement("b",null,"Outstanding balance")),c.a.createElement("span",null,"$",Oe))))),c.a.createElement(d.a,{title:"Details",extra:c.a.createElement(p.a,{type:"link",onClick:()=>e.history.push("/edit/matter",e.location.state.id)},"Add Contact"),className:"form-width mb-4"},c.a.createElement("table",{class:"table table-borderless table-responsive "},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-dark"},"Client")),c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-light"},ue))),c.a.createElement("tr",null,c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-dark"},"Phone")),c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-light"},Ne))),c.a.createElement("tr",null,c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-dark"},"Email")),c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-light"},De))),c.a.createElement("tr",null,c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-dark"},"Address")),c.a.createElement("td",{className:"border-0 py-2"},c.a.createElement("span",{className:"table-span-light"},se)))))),$.map((e,t)=>e),c.a.createElement(b.a,{title:"Add Contact",visible:z.visible,onOk:e=>{console.log(e),W({visible:!1})},onCancel:e=>{console.log(e),W({visible:!1})}},c.a.createElement(f.a,null,c.a.createElement(g.a,null,c.a.createElement(y.a,{sm:!0},c.a.createElement(f.a.Group,{controlId:"relationship"},c.a.createElement(f.a.Label,null,"Relationship"),c.a.createElement(f.a.Control,{name:"relationship",type:"text",placeholder:"Relationship"}))),c.a.createElement(y.a,null,c.a.createElement(f.a.Group,{controlId:"rcontact"},c.a.createElement(f.a.Label,null,"Contact"),c.a.createElement(f.a.Control,{as:"select",name:"contact"},c.a.createElement("option",null,"1"),c.a.createElement("option",null,"2"))))),c.a.createElement(f.a.Group,{controlId:"billThis"},c.a.createElement(f.a.Check,{name:"billThis",type:"checkbox",label:"Bill this contact"}))))),c.a.createElement(Pe,{tab:"Activities",key:"2"},c.a.createElement(ne,{id:e.location.state.id})),c.a.createElement(Pe,{tab:"Calendar",key:"3"},c.a.createElement(Me,{userId:e.location.state.userId,matterId:e.location.state.id})),c.a.createElement(Pe,{tab:"Communication",key:"4"},c.a.createElement(U,{id:e.location.state.id})),c.a.createElement(Pe,{tab:"Notes",key:"6"},c.a.createElement(Ge,{id:e.location.state.id})),c.a.createElement(Pe,{tab:"Document",key:"7"},console.log("matter in viw",e.location.state.matters),c.a.createElement(ke,{matters:e.location.state.matters,userId:e.location.state.userId,matterId:e.location.state.id})),c.a.createElement(Pe,{tab:"Task",key:"8"},c.a.createElement(Q,{id:e.location.state.id})),c.a.createElement(Pe,{tab:"Bills",key:"9"},c.a.createElement(ce,{userId:e.location.state.userId,matterId:e.location.state.id,handleRecordPayment:()=>{e.history.push("/manage/billing/record")},handleBills:t=>{console.log(e),e.history.push("/create/bills")}})))))}}}]);
//# sourceMappingURL=30.5d9f15f5.chunk.js.map