{"version":3,"sources":["App/containers/Subscription/Subscription.js"],"names":["subscription","Component","state","qdata","qmsg","data","userId","window","localStorage","getItem","subscriptionRequested","componentDidMount","user","JSON","parse","newState","this","token","_id","setState","api","get","then","res","message","console","log","render","handleClick","index","requestGranted","location","href","userData","registeredOn","post","catch","err","Header","Body","className","style","fontSize","fontWeight","map","repodata","key","id","planName","price","list","lists","type","onClick"],"mappings":"mIAAA,2CAKA,MAAMA,UAAqBC,YAAW,eAAD,oBACjCC,MAAQ,CACJC,MAAQ,GACRC,KAAO,GACPC,KAAO,CACHC,OAASC,OAAOC,aAAaC,QAAQ,UACrCC,sBAAwB,KAIhCC,oBACI,MAAMC,EAAOC,KAAKC,MAAMP,OAAOC,aAAaC,QAAQ,cACpD,GAAW,MAARG,EAAa,CACb,IAAIG,EAAUC,KAAKd,MACnBa,EAASV,KAAKC,OAASM,EAAKK,MAAML,KAAKM,IACvCF,KAAKG,SAASJ,GAEjBK,IAAIC,IAAI,kBACPC,KAAKC,IACJP,KAAKG,SAAS,CACZhB,MAAOoB,EAAIlB,KAAKA,KAChBD,KAAMmB,EAAIlB,KAAKmB,UAEnBC,QAAQC,IAAIV,KAAKd,MAAMC,SAI3BwB,SACI,MAAMC,EAAgBC,IAClBJ,QAAQC,IAAIG,GACZ,MAAMxB,EAAOW,KAAKd,MAAMG,KACxBA,EAAKyB,eAAiB,KACV,GAARD,IACAxB,EAAKK,sBAAwB,UAC7BH,OAAOwB,SAASC,KAAO,mFAEd,GAATH,IACAxB,EAAKK,sBAAwB,SAC7BH,OAAOwB,SAASC,KAAO,mFAE3B,MAAMC,EAAW,CACbC,aAAe7B,GAGnBe,IAAIe,KAAJ,sBAAwB9B,EAAKC,QAAW2B,GAAUX,KAAMC,IACpDE,QAAQC,IAAIH,KACZa,MAAOC,IACPZ,QAAQC,IAAIW,KAGhBjB,IAAIe,KAAJ,sBAAgC9B,GAAMiB,KAAMC,IACxCE,QAAQC,IAAIH,KAEba,MAAOC,IACNZ,QAAQC,IAAIW,MAKxB,OACI,kBAAC,IAAD,KACI,kBAAC,IAAKC,OAAN,KACI,iDAEJ,kBAAC,IAAKC,KAAN,KAEQ,yBAAKC,UAAU,aACf,yBAAKA,UAAU,eACF,uBAAGC,MAAO,CAACC,SAAW,SAAS,4BAAQD,MAAO,CAACE,WAAa,SAA7B,yCAA/B,IAAoH,6BAApH,gDAET,yBAAKH,UAAU,OAEX,yBAAKA,UAAU,gCACX,wBAAIC,MAAS,CAACC,SAAW,QAASF,UAAU,eAA5C,iBACA,yBAAKA,UAAU,0CACVxB,KAAKd,MAAMC,MAAMyC,IAAI,CAACC,EAAUhB,IAC7B,yBAAKW,UAAU,oBAAoBM,IAAKD,EAASE,IAC7C,yBAAKP,UAAU,4BACX,uBAAGA,UAAU,yCAAyCK,EAASG,UAC/D,wBAAIR,UAAU,wBAAwBC,MAAO,CAAC,YAAa,SAAUI,EAASI,OAC9E,wBAAIT,UAAU,uBACTK,EAASK,KAAKN,IAAKO,GAAS,4BAAI,uBAAGX,UAAU,gBAAmBW,KAErE,yBAAKX,UAAU,eACX,sDACA,4BAAQY,KAAK,SAASC,QAAW,IAAIzB,EAAYC,GAAQW,UAAU,cAAnE,wBAiBrCxC","file":"static/js/71.4157b5c6.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport api from '../../../resources/api';\nimport { Card } from 'react-bootstrap'\nimport { notification } from 'antd';\n\nclass subscription extends Component {\n    state = {\n        qdata : [ ],\n        qmsg : '',\n        data : {\n            userId : window.localStorage.getItem('userId'),\n            subscriptionRequested : \"\"\n        }\n    };\n\n    componentDidMount () {\n        const user = JSON.parse(window.localStorage.getItem('Case.user'))\n        if(user != null){\n           let newState= this.state\n           newState.data.userId = user.token.user._id\n           this.setState(newState)\n        }\n        api.get('/plans/showall')\n        .then(res =>{\n          this.setState({\n            qdata: res.data.data,\n            qmsg: res.data.message\n        });\n        console.log(this.state.qdata)\n        })\n    }\n    \n    render() {\n        const handleClick = ( index ) => {\n            console.log(index)\n            const data = this.state.data\n            data.requestGranted = \"No\"\n            if (index== 0) {\n                data.subscriptionRequested = \"monthly\"\n                window.location.href = 'https://www.fygaro.com/en/payments/c82abb7f-7851-425d-bdff-af2fb0704eaf/buy-now'\n            }\n            if (index == 1) {\n                data.subscriptionRequested = \"yearly\"\n                window.location.href = 'https://www.fygaro.com/en/payments/b2489fb2-225b-4839-a9ae-d8b1726fe58e/buy-now'\n            }\n            const userData = {\n                registeredOn : data\n            }\n            \n            api.post(`user/update/${data.userId}` , userData).then((res=>{\n                console.log(res)\n            })).catch((err)=>{\n                console.log(err)\n            })\n\n            api.post(`subscription/create`, data).then((res)=>{\n                console.log(res)\n               // notification.success({message : \"Sending request to the admin\"})\n            }).catch((err)=>{\n                console.log(err)\n               // notification.warning({message : \"Failed to send request to the admin\"})\n            })\n    \n        }\n    return(\n        <Card>\n            <Card.Header>\n                <h5>Choose our plans</h5>\n            </Card.Header>\n            <Card.Body>\n   \n                    <div className=\"container\">\n                    <div className=\"text-center\">\n                                 <p style={{fontSize : \"20px\"}}><strong style={{fontWeight : \"bold\"}}>Our plans saves you time. Lots of it.</strong> <br></br>Choose the plan that's right for your firm.</p>    \n                             </div>\n                        <div className=\"row\">\n                             \n                            <div className=\"col-lg-12 py-3 section-title\">\n                                <h2 style = {{fontSize : \"35px\"}} className=\"text-center\">Subscriptions</h2>\n                                <div className=\"row py-3 d-flex justify-content-center\">\n                                    {this.state.qdata.map((repodata, index) => \n                                        <div className=\"col-lg-3 col-md-6\" key={repodata.id}>        \n                                            <div className=\"sub_card overflow-hidden\">\n                                                <p className=\"card-text font-weight-bold text-break\">{repodata.planName}</p>\n                                                <h3 className=\"card-title text-break\" style={{\"font-size\": \"36px\"}}>{repodata.price}</h3>\n                                                <ul className=\"sub-list text-break\">\n                                                    {repodata.list.map((lists)=> <li><i className=\"fa fa-check\"></i>{lists}</li>)}\n                                                </ul>\n                                                <div className=\"text-center\">\n                                                    <p>Get a 15-Day Free Trial</p>\n                                                    <button type=\"button\" onClick = {()=>handleClick(index)} className=\"sub-button\">Subscribe</button>\n                                                </div>                                    \n                                            </div>\n                                        </div>\n                                    )\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n            \n            </Card.Body>\n        </Card>\n        )\n}\n}\n\nexport default subscription"],"sourceRoot":""}