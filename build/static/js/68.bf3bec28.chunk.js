(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[68],{624:function(e,t,a){"use strict";a.r(t);var s=a(225),l=a.n(s),n=a(226),r=a(1),i=a(0),c=a.n(i),o=a(110),h=a(268),d=a(1004),u=a(153),p=a(1001),m=a(989),g=a(1007),b=(a(111),a(237)),E=a.n(b),v=a(3),S=a(8),D=a(242),C=a.n(D);class f extends i.Component{constructor(e){super(e),console.log("data in excel",e.dataSource)}render(){return console.log(this.props),c.a.createElement("div",null,c.a.createElement("table",{id:"matter",className:"d-none"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"S.No"),c.a.createElement("th",null,"Matter"),c.a.createElement("th",null,"Client"),c.a.createElement("th",null,"Practice Area"),c.a.createElement("th",null,"Open date"))),c.a.createElement("tbody",null,this.props.dataSource.map((e,t)=>c.a.createElement("tr",{key:t},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.matterDescription),c.a.createElement("td",null,e.Client),c.a.createElement("th",null,e.PractiseArea?e.PractiseArea:"-"),c.a.createElement("th",null,e.OpenDate?e.OpenDate:"-"))))),c.a.createElement(C.a,{className:"btn btn-outline-primary btn-sm excel-button",table:"matter",filename:"matters",sheet:"Sheet",buttonText:"Export to Excel"}))}}var w=f,y=a(230),x=a.n(y);a(231);let k={};class O extends c.a.Component{constructor(e){super(e),this.filterByMatterInput=()=>c.a.createElement("div",null,c.a.createElement(g.a,{style:{"vertical-align":"revert"},onClick:()=>{!1===this.state.showSearchMatter?this.setState(Object(r.a)(Object(r.a)({},this.state),{},{showSearchMatter:!0,showSearchClient:!1,showSearchPractise:!1})):this.setState(Object(r.a)(Object(r.a)({},this.state),{},{showSearchMatter:!1}))}}),c.a.createElement("span",{style:{paddingLeft:"8px"}}," Matter Description "),c.a.createElement("div",null,this.state.showSearchMatter&&c.a.createElement("input",{className:"mt-2",placeholder:"Search Matter ",value:this.state.value,onChange:e=>{let t=[];this.setState({value:e.target.value}),0!==e.target.value.length||""===e.target.value?(t=this.state.tableData.filter(t=>void 0!==t.matterDescription&&t.matterDescription.toLowerCase().includes(e.target.value.toLowerCase())),this.setState({finalData:t})):this.setState({finalData:this.state.tableData})}}))),this.filterByClientInput=()=>c.a.createElement("div",null,c.a.createElement(g.a,{style:{"vertical-align":"revert"},onClick:()=>{!1===this.state.showSearchClient?this.setState(Object(r.a)(Object(r.a)({},this.state),{},{showSearchClient:!0,showSearchPractise:!1,showSearchMatter:!1})):this.setState(Object(r.a)(Object(r.a)({},this.state),{},{showSearchClient:!1}))}}),c.a.createElement("span",{style:{paddingLeft:"8px"}}," Client "),c.a.createElement("div",null,this.state.showSearchClient&&c.a.createElement("input",{className:"mt-2",placeholder:"Search Client ",value:this.state.value,onChange:e=>{let t=[];this.setState({value:e.target.value}),0!==e.target.value.length||""===e.target.value?(t=this.state.tableData.filter(t=>void 0!==t.Client&&t.Client.toLowerCase().includes(e.target.value.toLowerCase())),this.setState({finalData:t})):this.setState({finalData:this.state.tableData})}}))),this.filterByPractiseInput=()=>c.a.createElement("div",null,c.a.createElement(g.a,{style:{"vertical-align":"revert"},onClick:()=>{!1===this.state.showSearchPractise?this.setState(Object(r.a)(Object(r.a)({},this.state),{},{showSearchPractise:!0,showSearchClient:!1,showSearchMatter:!1})):this.setState(Object(r.a)(Object(r.a)({},this.state),{},{showSearchPractise:!1}))}}),c.a.createElement("span",{style:{paddingLeft:"8px"}}," Practise Area "),c.a.createElement("div",null,this.state.showSearchPractise&&c.a.createElement("input",{className:"mt-2",placeholder:"Search Practise Area ",value:this.state.value,onChange:e=>{let t=[];this.setState({value:e.target.value}),0!==e.target.value.length||""===e.target.value?(t=this.state.tableData.filter(t=>void 0!==t.PractiseArea&&t.PractiseArea.toLowerCase().includes(e.target.value.toLowerCase())),this.setState({finalData:t})):this.setState({finalData:this.state.tableData})}}))),this.state={data:{},tableData:[],searchData:[],showSearchMatter:!1,showSearchClient:!1,showSearchPractise:!1,value:"",loading:!0,finalData:[]},this.filterByMatterInput=this.filterByMatterInput.bind(this)}componentDidMount(){var e=this;return Object(n.a)(l.a.mark((function t(){var a,s,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],s=[],n=[],r=[],t.next=6,v.b.get("/matter/viewforuser/"+e.props.userId).then(e=>k=e.data.data);case 6:console.log(k),k.map((e,t)=>{let l={key:t,id:e._id,matterDescription:e.matterDescription,Client:null!==e.client?e.client.firstName+" "+e.client.lastName:"-",PractiseArea:e.practiseArea?e.practiseArea:"-",OpenDate:e.openDate?e.openDate:"-"};"Open"===e.status?s.push(l):"Closed"===e.status?n.push(l):"Pending"===e.status&&r.push(l),a.push(l)}),e.state.tableData!=[]&&e.setState({tableData:a,open:s,closed:n,pending:r,all:a,loading:!1});case 9:case"end":return t.stop()}}),t)})))()}render(){const e=e=>{this.props.history.push("/manage/Matter/add")},t=e=>{this.props.history.push("/edit/matter",e.id)},a=e=>{v.b.get("/matter/delete/"+e.id).then(()=>{this.componentDidMount(),o.a.success({message:"Matter deleted."})}).catch(()=>o.a.error({message:"Failed to delete"})),setTimeout(()=>{},1e3)},s=[{title:this.filterByMatterInput,dataIndex:"matterDescription",key:"_id",render:e=>c.a.createElement(E.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[this.state.value],autoEscape:!0,textToHighlight:e?e.toString():""})},{title:this.filterByClientInput,dataIndex:"Client",key:"_id",render:e=>c.a.createElement(E.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[this.state.value],autoEscape:!0,textToHighlight:e?e.toString():""})},{title:this.filterByPractiseInput,dataIndex:"PractiseArea",key:"_id",render:e=>c.a.createElement(E.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[this.state.value],autoEscape:!0,textToHighlight:e?e.toString():""})},{title:"Open Date",dataIndex:"OpenDate",key:"_id",sortDirections:["descend","ascend"],sorter:(e,t)=>e.OpenDate.length-t.OpenDate.length},{title:"View",dataIndex:"view",key:"_id",render:(e,t)=>c.a.createElement(h.a,{color:"warning",onClick:()=>l(t)},"View")},{title:"Edit",dataIndex:"edit",key:"_id",render:(e,a)=>c.a.createElement(h.a,{color:"warning",onClick:()=>t(a)},"Edit")},{title:"Delete",dataIndex:"delete",key:"_id",render:(e,t)=>c.a.createElement(d.a,{title:"Are you sure delete this matter?",onConfirm:()=>a(t),okText:"Yes",cancelText:"No"},c.a.createElement(h.a,{danger:!0},"Delete"))}],l=e=>{let t={};t.id=k[e.key]._id,t.userId=this.props.userId,t.matters=this.state.tableData,this.props.history.push("/view/matter",t)},n=e=>{"All"===e?this.setState({tableData:this.state.all}):"open"===e?this.setState({tableData:this.state.open}):"closed"===e?this.setState({tableData:this.state.closed}):"pending"===e&&this.setState({tableData:this.state.pending})};return c.a.createElement(u.a,{size:"large",spinning:this.state.loading},c.a.createElement("div",{className:"d-flex mb-2 title-component-header"},c.a.createElement("div",{className:"title-header-name"},c.a.createElement("h5",null,"Matter")),c.a.createElement("div",{className:"d-flex extra-iteam-div"},c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>{const e=new x.a("portrait","pt","A4");e.setFontSize(15);let t=[];console.log(this.state.tableData),this.state.tableData.map((e,a)=>{const s=[a+1,e.matterDescription,e.Client,e.PractiseArea?e.PractiseArea:"-",e.OpenDate?e.OpenDate:"-"];t.push(s)});let a={startY:50,head:[["S.N","Matter","Client","Practice Area","Open Date"]],body:t};e.text("Matters",40,40),e.autoTable(a),e.save("matters.pdf")}},"Export to Pdf"),c.a.createElement(w,{dataSource:this.state.tableData||[]}),c.a.createElement("button",{className:"btn  btn-outline-primary   btn-sm",onClick:()=>e()},"Add Matter"))),c.a.createElement(p.a,null,c.a.createElement("div",null,c.a.createElement("span",{className:"ml-auto"}),c.a.createElement(h.a,{style:{margin:"0 10px 10px 0"},onClick:()=>{n("All")}},"All"),c.a.createElement(h.a,{style:{margin:"0 10px 10px 0"},onClick:()=>{n("open")}},"Open"),c.a.createElement(h.a,{style:{margin:"0 10px 10px 0"},onClick:()=>{n("pending")}},"Pending"),c.a.createElement(h.a,{style:{margin:"0 10px 10px 0"},onClick:()=>{n("closed")}},"Closed")),c.a.createElement("br",null),c.a.createElement(m.a,{className:"table-responsive",dataSource:0===this.state.finalData.length&&0===this.state.value.length?this.state.tableData:this.state.finalData,columns:s,onRow:(e,t)=>({onDoubleClick:()=>l(e),onContextMenu:e=>{},onMouseEnter:e=>{},onMouseLeave:e=>{}})})))}}t.default=Object(S.b)(e=>({userId:e.user.token.user._id}))(O)}}]);
//# sourceMappingURL=68.bf3bec28.chunk.js.map